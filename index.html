<!DOCTYPE html><html><head><meta charset="utf-8"><title>ClickBus Public API</title><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"><style>@import url('https://fonts.googleapis.com/css?family=Roboto:400,700|Inconsolata|Raleway:200');.hljs-comment,.hljs-title{color:#8e908c}.hljs-variable,.hljs-attribute,.hljs-tag,.hljs-regexp,.ruby .hljs-constant,.xml .hljs-tag .hljs-title,.xml .hljs-pi,.xml .hljs-doctype,.html .hljs-doctype,.css .hljs-id,.css .hljs-class,.css .hljs-pseudo{color:#c82829}.hljs-number,.hljs-preprocessor,.hljs-pragma,.hljs-built_in,.hljs-literal,.hljs-params,.hljs-constant{color:#f5871f}.ruby .hljs-class .hljs-title,.css .hljs-rules .hljs-attribute{color:#eab700}.hljs-string,.hljs-value,.hljs-inheritance,.hljs-header,.ruby .hljs-symbol,.xml .hljs-cdata{color:#718c00}.css .hljs-hexcolor{color:#3e999f}.hljs-function,.python .hljs-decorator,.python .hljs-title,.ruby .hljs-function .hljs-title,.ruby .hljs-title .hljs-keyword,.perl .hljs-sub,.javascript .hljs-title,.coffeescript .hljs-title{color:#4271ae}.hljs-keyword,.javascript .hljs-function{color:#8959a8}.hljs{display:block;background:white;color:#4d4d4c;padding:.5em}.coffeescript .javascript,.javascript .xml,.tex .hljs-formula,.xml .javascript,.xml .vbscript,.xml .css,.xml .hljs-cdata{opacity:.5}.right .hljs-comment{color:#969896}.right .css .hljs-class,.right .css .hljs-id,.right .css .hljs-pseudo,.right .hljs-attribute,.right .hljs-regexp,.right .hljs-tag,.right .hljs-variable,.right .html .hljs-doctype,.right .ruby .hljs-constant,.right .xml .hljs-doctype,.right .xml .hljs-pi,.right .xml .hljs-tag .hljs-title{color:#c66}.right .hljs-built_in,.right .hljs-constant,.right .hljs-literal,.right .hljs-number,.right .hljs-params,.right .hljs-pragma,.right .hljs-preprocessor{color:#de935f}.right .css .hljs-rule .hljs-attribute,.right .ruby .hljs-class .hljs-title{color:#f0c674}.right .hljs-header,.right .hljs-inheritance,.right .hljs-name,.right .hljs-string,.right .hljs-value,.right .ruby .hljs-symbol,.right .xml .hljs-cdata{color:#b5bd68}.right .css .hljs-hexcolor,.right .hljs-title{color:#8abeb7}.right .coffeescript .hljs-title,.right .hljs-function,.right .javascript .hljs-title,.right .perl .hljs-sub,.right .python .hljs-decorator,.right .python .hljs-title,.right .ruby .hljs-function .hljs-title,.right .ruby .hljs-title .hljs-keyword{color:#81a2be}.right .hljs-keyword,.right .javascript .hljs-function{color:#b294bb}.right .hljs{display:block;overflow-x:auto;background:#1d1f21;color:#c5c8c6;padding:.5em;-webkit-text-size-adjust:none}.right .coffeescript .javascript,.right .javascript .xml,.right .tex .hljs-formula,.right .xml .css,.right .xml .hljs-cdata,.right .xml .javascript,.right .xml .vbscript{opacity:.5}body{color:black;background:white;font:400 14px / 1.42 'Roboto',Helvetica,sans-serif}header{border-bottom:1px solid #f2f2f2;margin-bottom:12px}h1,h2,h3,h4,h5{color:black;margin:12px 0}h1 .permalink,h2 .permalink,h3 .permalink,h4 .permalink,h5 .permalink{margin-left:0;opacity:0;transition:opacity .25s ease}h1:hover .permalink,h2:hover .permalink,h3:hover .permalink,h4:hover .permalink,h5:hover .permalink{opacity:1}.triple h1 .permalink,.triple h2 .permalink,.triple h3 .permalink,.triple h4 .permalink,.triple h5 .permalink{opacity:.15}.triple h1:hover .permalink,.triple h2:hover .permalink,.triple h3:hover .permalink,.triple h4:hover .permalink,.triple h5:hover .permalink{opacity:.15}h1{font:200 36px 'Raleway',Helvetica,sans-serif;font-size:36px}h2{font:200 36px 'Raleway',Helvetica,sans-serif;font-size:30px}h3{font-size:100%;text-transform:uppercase}h5{font-size:100%;font-weight:normal}p{margin:0 0 10px}p.choices{line-height:1.6}a{color:#428bca;text-decoration:none}li p{margin:0}hr.split{border:0;height:1px;width:100%;padding-left:6px;margin:12px auto;background-image:linear-gradient(to right, rgba(0,0,0,0) 20%, rgba(0,0,0,0.2) 51.4%, rgba(255,255,255,0.2) 51.4%, rgba(255,255,255,0) 80%)}dl dt{float:left;width:130px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:700}dl dd{margin-left:150px}blockquote{color:rgba(0,0,0,0.5);font-size:15.5px;padding:10px 20px;margin:12px 0;border-left:5px solid #e8e8e8}blockquote p:last-child{margin-bottom:0}pre{background-color:#f5f5f5;padding:12px;border:1px solid #cfcfcf;border-radius:6px;overflow:auto}pre code{color:black;background-color:transparent;padding:0;border:none}code{color:#444;background-color:#f5f5f5;font:'Inconsolata',monospace;padding:1px 4px;border:1px solid #cfcfcf;border-radius:3px}ul,ol{padding-left:2em}table{border-collapse:collapse;border-spacing:0;margin-bottom:12px}table tr:nth-child(2n){background-color:#fafafa}table th,table td{padding:6px 12px;border:1px solid #e6e6e6}.text-muted{opacity:.5}.note,.warning{padding:.3em 1em;margin:1em 0;border-radius:2px;font-size:90%}.note h1,.warning h1,.note h2,.warning h2,.note h3,.warning h3,.note h4,.warning h4,.note h5,.warning h5,.note h6,.warning h6{font-family:200 36px 'Raleway',Helvetica,sans-serif;font-size:135%;font-weight:500}.note p,.warning p{margin:.5em 0}.note{color:black;background-color:#f0f6fb;border-left:4px solid #428bca}.note h1,.note h2,.note h3,.note h4,.note h5,.note h6{color:#428bca}.warning{color:black;background-color:#fbf1f0;border-left:4px solid #c9302c}.warning h1,.warning h2,.warning h3,.warning h4,.warning h5,.warning h6{color:#c9302c}header{margin-top:24px}nav{position:fixed;top:24px;bottom:0;overflow-y:auto}nav .resource-group{padding:0}nav .resource-group .heading{position:relative}nav .resource-group .heading .chevron{position:absolute;top:12px;right:12px;opacity:.5}nav .resource-group .heading a{display:block;color:black;opacity:.7;border-left:2px solid transparent;margin:0}nav .resource-group .heading a:hover{text-decoration:none;background-color:bad-color;border-left:2px solid black}nav ul{list-style-type:none;padding-left:0}nav ul a{display:block;font-size:13px;color:rgba(0,0,0,0.7);padding:8px 12px;border-top:1px solid #d9d9d9;border-left:2px solid transparent;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}nav ul a:hover{text-decoration:none;background-color:bad-color;border-left:2px solid black}nav ul>li{margin:0}nav ul>li:first-child{margin-top:-12px}nav ul>li:last-child{margin-bottom:-12px}nav ul ul a{padding-left:24px}nav ul ul li{margin:0}nav ul ul li:first-child{margin-top:0}nav ul ul li:last-child{margin-bottom:0}nav>div>div>ul>li:first-child>a{border-top:none}.preload *{transition:none !important}.pull-left{float:left}.pull-right{float:right}.badge{display:inline-block;float:right;min-width:10px;min-height:14px;padding:3px 7px;font-size:12px;color:#000;background-color:#f2f2f2;border-radius:10px;margin:-2px 0}.badge.get{color:#70bbe1;background-color:#d9edf7}.badge.head{color:#70bbe1;background-color:#d9edf7}.badge.options{color:#70bbe1;background-color:#d9edf7}.badge.put{color:#f0db70;background-color:#fcf8e3}.badge.patch{color:#f0db70;background-color:#fcf8e3}.badge.post{color:#93cd7c;background-color:#dff0d8}.badge.delete{color:#ce8383;background-color:#f2dede}.collapse-button{float:right}.collapse-button .close{display:none;color:#428bca;cursor:pointer}.collapse-button .open{color:#428bca;cursor:pointer}.collapse-button.show .close{display:inline}.collapse-button.show .open{display:none}.collapse-content{max-height:0;overflow:hidden;transition:max-height .3s ease-in-out}nav{width:220px}.container{max-width:940px;margin-left:auto;margin-right:auto}.container .row .content{margin-left:244px;width:696px}.container .row:after{content:'';display:block;clear:both}.container-fluid nav{width:22%}.container-fluid .row .content{margin-left:24%}.container-fluid.triple nav{width:16.5%;padding-right:1px}.container-fluid.triple .row .content{position:relative;margin-left:16.5%;padding-left:24px}.middle:before,.middle:after{content:'';display:table}.middle:after{clear:both}.middle{box-sizing:border-box;width:51.5%;padding-right:12px}.right{box-sizing:border-box;float:right;width:48.5%;padding-left:12px}.right a{color:#428bca}.right h1,.right h2,.right h3,.right h4,.right h5,.right p,.right div{color:white}.right pre{background-color:#1d1f21;border:1px solid #1d1f21}.right pre code{color:#c5c8c6}.right .description{margin-top:12px}.triple .resource-heading{font-size:125%}.definition{margin-top:12px;margin-bottom:12px}.definition .method{font-weight:bold}.definition .method.get{color:#2e8ab8}.definition .method.head{color:#2e8ab8}.definition .method.options{color:#2e8ab8}.definition .method.post{color:#56b82e}.definition .method.put{color:#b8a22e}.definition .method.patch{color:#b8a22e}.definition .method.delete{color:#b82e2e}.definition .uri{word-break:break-all;word-wrap:break-word}.definition .hostname{opacity:.5}.example-names{background-color:#eee;padding:12px;border-radius:6px}.example-names .tab-button{cursor:pointer;color:black;border:1px solid #ddd;padding:6px;margin-left:12px}.example-names .tab-button.active{background-color:#d5d5d5}.right .example-names{background-color:#444}.right .example-names .tab-button{color:white;border:1px solid #666;border-radius:6px}.right .example-names .tab-button.active{background-color:#5e5e5e}#nav-background{position:fixed;left:0;top:0;bottom:0;width:16.5%;padding-right:14.4px;background-color:#fbfbfb;border-right:1px solid #f0f0f0;z-index:-1}#right-panel-background{position:absolute;right:-12px;top:-12px;bottom:-12px;width:48.6%;background-color:#333;z-index:-1}@media (max-width:1200px){nav{width:198px}.container{max-width:840px}.container .row .content{margin-left:224px;width:606px}}@media (max-width:992px){nav{width:169.4px}.container{max-width:720px}.container .row .content{margin-left:194px;width:526px}}@media (max-width:768px){nav{display:none}.container{width:95%;max-width:none}.container .row .content,.container-fluid .row .content,.container-fluid.triple .row .content{margin-left:auto;margin-right:auto;width:95%}#nav-background{display:none}#right-panel-background{width:48.6%}}.back-to-top{position:fixed;z-index:1;bottom:0;right:24px;padding:4px 8px;color:rgba(0,0,0,0.5);background-color:#f2f2f2;text-decoration:none !important;border-top:1px solid #d9d9d9;border-left:1px solid #d9d9d9;border-right:1px solid #d9d9d9;border-top-left-radius:3px;border-top-right-radius:3px}.resource-group{padding:12px;margin-bottom:12px;background-color:white;border:1px solid #d9d9d9;border-radius:6px}.resource-group h2.group-heading,.resource-group .heading a{padding:12px;margin:-12px -12px 12px -12px;background-color:#f2f2f2;border-bottom:1px solid #d9d9d9;border-top-left-radius:6px;border-top-right-radius:6px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.triple .content .resource-group{padding:0;border:none}.triple .content .resource-group h2.group-heading,.triple .content .resource-group .heading a{margin:0 0 12px 0;border:1px solid #d9d9d9}nav .resource-group .heading a{padding:12px;margin-bottom:0}nav .resource-group .collapse-content{padding:0}.action{margin-bottom:12px;padding:12px 12px 0 12px;overflow:hidden;border:1px solid transparent;border-radius:6px}.action h4.action-heading{padding:6px 12px;margin:-12px -12px 12px -12px;border-bottom:1px solid transparent;border-top-left-radius:6px;border-top-right-radius:6px;overflow:hidden}.action h4.action-heading .name{float:right;font-weight:normal;padding:6px 0}.action h4.action-heading .method{padding:6px 12px;margin-right:12px;border-radius:3px;display:inline-block}.action h4.action-heading .method.get{color:#fff;background-color:#337ab7}.action h4.action-heading .method.head{color:#fff;background-color:#337ab7}.action h4.action-heading .method.options{color:#fff;background-color:#337ab7}.action h4.action-heading .method.put{color:#fff;background-color:#ed9c28}.action h4.action-heading .method.patch{color:#fff;background-color:#ed9c28}.action h4.action-heading .method.post{color:#fff;background-color:#5cb85c}.action h4.action-heading .method.delete{color:#fff;background-color:#d9534f}.action h4.action-heading code{color:#444;background-color:#f5f5f5;border-color:#cfcfcf;font-weight:normal;word-break:break-all;display:inline-block;margin-top:2px}.action dl.inner{padding-bottom:2px}.action .title{border-bottom:1px solid white;margin:0 -12px -1px -12px;padding:12px}.action.get{border-color:#bce8f1}.action.get h4.action-heading{color:#337ab7;background:#d9edf7;border-bottom-color:#bce8f1}.action.head{border-color:#bce8f1}.action.head h4.action-heading{color:#337ab7;background:#d9edf7;border-bottom-color:#bce8f1}.action.options{border-color:#bce8f1}.action.options h4.action-heading{color:#337ab7;background:#d9edf7;border-bottom-color:#bce8f1}.action.post{border-color:#d6e9c6}.action.post h4.action-heading{color:#5cb85c;background:#dff0d8;border-bottom-color:#d6e9c6}.action.put{border-color:#faebcc}.action.put h4.action-heading{color:#ed9c28;background:#fcf8e3;border-bottom-color:#faebcc}.action.patch{border-color:#faebcc}.action.patch h4.action-heading{color:#ed9c28;background:#fcf8e3;border-bottom-color:#faebcc}.action.delete{border-color:#ebccd1}.action.delete h4.action-heading{color:#d9534f;background:#f2dede;border-bottom-color:#ebccd1}</style></head><body class="preload"><a href="#top" class="text-muted back-to-top"><i class="fa fa-toggle-up"></i>&nbsp;Back to top</a><div class="container"><div class="row"><nav><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#overview">Overview</a></div><div class="collapse-content"><ul><li><a href="#overview-introduction">Introduction</a><ul></ul></li><li><a href="#overview-predicates">Predicates</a><ul></ul></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#places">Places</a></div><div class="collapse-content"><ul><li><a href="#places-get-all-places-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get All Places</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#trips">Trips</a></div><div class="collapse-content"><ul><li><a href="#trips-get-all-available-trips-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get all available Trips</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#bus-companies">Bus Companies</a></div><div class="collapse-content"><ul><li><a href="#bus-companies-list-all-bus-companies-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>List All Bus Companies</a></li><li><a href="#bus-companies-get-a-single-bus-company-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get a Single Bus Company</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#session">Session</a></div><div class="collapse-content"><ul><li><a href="#session-get-session-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get Session</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#trip-details">Trip Details</a></div><div class="collapse-content"><ul><li><a href="#trip-details-get-trip-details-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get Trip Details</a></li><li><a href="#trip-details-how-seat-position-works">How Seat Position works</a><ul></ul></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#seat-block">Seat Block</a></div><div class="collapse-content"><ul><li><a href="#seat-block-create-a-block-in-a-seat-put"><span class="badge put"><i class="fa fa-pencil"></i></span>Create a block in a Seat</a></li><li><a href="#seat-block-remove-a-block-in-a-seat-delete"><span class="badge delete"><i class="fa fa-times"></i></span>Remove a block in a Seat</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#payment-stateful">Payment STATEFUL</a></div><div class="collapse-content"><ul><li><a href="#payment-stateful-calculate-your-items-by-sessionid-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Calculate your Items by SessionId (Stateful Mode)</a></li><li><a href="#payment-stateful-how-payment-works">How Payment Works</a><ul></ul></li><li><a href="#payment-stateful-supported-card-brands">Supported Card Brands</a><ul></ul></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#payments">Payments</a></div><div class="collapse-content"><ul><li><a href="#payments-calculate-your-items-post"><span class="badge post"><i class="fa fa-plus"></i></span>Calculate your Items</a></li><li><a href="#payments-how-payments-works">How Payments Works</a><ul></ul></li><li><a href="#payments-supported-card-brands">Supported Card Brands</a><ul></ul></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#vouchers">Vouchers</a></div><div class="collapse-content"><ul><li><a href="#vouchers-validate-voucher-post"><span class="badge post"><i class="fa fa-plus"></i></span>Validate Voucher</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#booking">Booking</a></div><div class="collapse-content"><ul><li><a href="#booking-how-to-check-an-order-status">How to Check an Order Status</a><ul></ul></li><li><a href="#booking-create-an-order-post"><span class="badge post"><i class="fa fa-plus"></i></span>Create Order</a></li><li><a href="#booking-credit-debit-card-rejection">Credit/Debit Card Rejection</a><ul></ul></li><li><a href="#booking-cancel-an-order-put"><span class="badge put"><i class="fa fa-pencil"></i></span>Cancel an Order</a></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#checkout">Checkout</a></div><div class="collapse-content"><ul><li><a href="#checkout-create-an-order-post"><span class="badge post"><i class="fa fa-plus"></i></span>Create an Order</a></li><li><a href="#checkout-unavailable-seats">Unavailable Seats</a><ul></ul></li></ul></div></div><div class="resource-group"><div class="heading"><div class="chevron"><i class="open fa fa-angle-down"></i></div><a href="#order-details">Order Details</a></div><div class="collapse-content"><ul><li><a href="#order-details-authentication-required">Authentication Required</a><ul></ul></li><li><a href="#order-details-get-order-list-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get Order List</a></li><li><a href="#order-details-get-order-get"><span class="badge get"><i class="fa fa-arrow-down"></i></span>Get Order</a></li><li><a href="#order-details-order-status-list">Order Status List</a><ul></ul></li></ul></div></div></nav><div class="content"><header><h1 id="top">ClickBus Public API</h1></header><p>This is the documentation and samples for Clickbus Public API. The contents here can also be used as mocked data to simply test API integration.</p>
<p>In this document, you may find both how to integrate with Clickbus API but also use it as a guideline to create your own Booking engine and submit to us to quickly implement your services and start selling your bus services as well using ClickBus (<a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details).</p>
<hr>
<section id="overview" class="resource-group"><h2 class="group-heading">Overview <a href="#overview" class="permalink">&para;</a></h2><div id="overview-introduction" class="resource"><h3 class="resource-heading">Introduction <a href="#overview-introduction" class="permalink">&nbsp;&para;</a></h3><p>Below are the topic Groups to perform every task for your applications:</p>
<ul>
<li>
<p>Obtain a list with all <strong>Places</strong>;</p>
</li>
<li>
<p>Search any of our <strong>Trips</strong>;</p>
</li>
<li>
<p>See all information from our supported <strong>Bus Companies</strong>;</p>
</li>
<li>
<p>Calculate your roundtrip items before the purchase with the <strong>Payments</strong> resource;</p>
</li>
<li>
<p>Obtain <strong>Trip Details</strong> from each route;</p>
</li>
<li>
<p><strong>Seat Block</strong> to lock or unlock seat reservations;</p>
</li>
<li>
<p><strong>Booking</strong> orders;</p>
</li>
<li>
<p>Purchase roundtrip orders in <strong>Checkout</strong>;</p>
</li>
<li>
<p>Sign your actions with an ID provided by <strong>Session</strong>;</p>
</li>
<li>
<p>Check your <strong>Order</strong> status.</p>
</li>
</ul>
<hr>
</div><div id="overview-predicates" class="resource"><h3 class="resource-heading">Predicates <a href="#overview-predicates" class="permalink">&nbsp;&para;</a></h3><ol>
<li>
<p>All sucessfull requests return a <strong>20</strong>* Response header;</p>
</li>
<li>
<p>The <strong>Evaluation</strong> environment (<a href="https://api-evaluation.clickbus.com.br/api/v1">https://api-evaluation.clickbus.com.br/api/v1</a>) have only the following routes, for both departure and return:</p>
<ul>
<li>From <strong>Sao Paulo, SP - Tiete</strong> (<code>sao-paulo-tiete-sp</code>) to <strong>Santos, SP</strong> (<code>santos-sp</code>);</li>
<li>From <strong>Santos, SP</strong> (<code>santos-sp</code>) to <strong>Sao Paulo, SP - Tiete</strong> (<code>sao-paulo-tiete-sp</code>).</li>
</ul>
</li>
<li>
<p>The params <strong>store</strong>, <strong>model</strong> and <strong>platform</strong> are required and singular for each partner. To obtain these credentials, please contact our commercial department at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a>.</p>
</li>
</ol>
</div></section><section id="places" class="resource-group"><h2 class="group-heading">Places <a href="#places" class="permalink">&para;</a></h2><div id="places-get-all-places" class="resource"><h3 class="resource-heading">Get All Places <a href="#places-get-all-places" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/places</code> retrieves all the available Places, where each Place can be used as a destination point to our travels and routes.</p>
<p>One of the most important values on this resource is the <code>slug</code>, which contains the name to use when referencing to a Place in a <strong>Trips</strong> request.</p>
<div id="places-get-all-places-get" class="action get"><h4 class="action-heading"><div class="name">Get All Places</div><a href="#places-get-all-places-get" class="method get">GET</a><code class="uri">/places</code></h4><p><strong>PARAMETERS</strong></p>
<p><em>None</em></p>
<p><strong>EXAMPLE</strong></p>
<p>The given request returns a Response <em>200</em>, with a list in JSON format filled with all Places.</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/places</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "meta": "",
    "items": [
        {
            "id": 4017,
            "station_id": 34523,
            "slug": "sao-paulo-tiete-sp",
            "locale": "pt-BR",
            "name": "",
            "is_primary": "true",
            "created_at": "2014-09-05 13:04:27",
            "updated_at": "2014-09-05 13:04:59",
            "place": {
                "id": 34523,
                "place_id": 4017,
                "locale": "pt-BR",
                "name": "Sao Paulo, SP - Tiete",
                "created_at": "2014-09-05 13:04:27",
                "updated_at": "2014-09-05 13:04:59",
                "latitude": "-9.0237964",
                "longitude": "-70.8119953",
                "state": {
                    "code": "",
                    "name": "Sao Paulo, SP - Tiete"
                }
            }
        },
        {
            "id": 9209,
            "station_id": 7648,
            "slug": "santos-sp",
            "locale": "pt-BR",
            "name": "Santos, SP",
            "is_primary": "true",
            "created_at": "2014-05-26 16:19:36",
            "updated_at": "2014-05-26 16:38:32",
            "place": {
                "id": 7648,
                "place_id": 7648,
                "locale": "pt-BR",
                "name": "Santos, SP",
                "created_at": "2014-05-26 16:19:36",
                "updated_at": "2014-05-26 16:38:32",
                "latitude": "",
                "longitude": "",
                "state": {
                    "code": "",
                    "name": "Santos, SP"
                }
            }
        },
        { ... }
    ]
}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>F1</strong></td>
<td style="text-align:left"><em>The Application encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred while proccessing your Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>F2</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/places</span></div></div></div></section><section id="trips" class="resource-group"><h2 class="group-heading">Trips <a href="#trips" class="permalink">&para;</a></h2><div id="trips-get-all-available-trips" class="resource"><h3 class="resource-heading">Get all available Trips <a href="#trips-get-all-available-trips" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/trips</code> provides a list with all available trips, with all sort of details you may need.</p>
<p><strong>ADVICE:</strong> Remember that each request to <code>/trips</code> will erase all itens stored in your Pre-Order, so, if you don’t have confirmed your Order yet, all the items added to the Pre-Order will be lost.</p>
<div id="trips-get-all-available-trips-get" class="action get"><h4 class="action-heading"><div class="name">Get all available Trips</div><a href="#trips-get-all-available-trips-get" class="method get">GET</a><code class="uri">/trips</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>from</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">A destination from where a trip starts.</td>
<td style="text-align:left"><code>sao-paulo-tiete-sp</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>to</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">A destination to where a trip ends.</td>
<td style="text-align:left"><code>santos-sp</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>departure</strong> (required)</td>
<td style="text-align:left"><em>date</em></td>
<td style="text-align:left">Any valid date, in format <code>yyyy-mm-dd</code>.</td>
<td style="text-align:left"><code>2015-02-11</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>engine</strong> (optional)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Specify in what booking engine you want to perform the search; if not provided, the search will be executed in the availiable booking engine on the server.</td>
<td style="text-align:left"><code>5411E7D726991</code></td>
</tr>
</tbody>
</table>
<p>With the correct params, this resource returns a Response 200 and a list, in JSON format, with these details as follow:</p>
<ul>
<li><code>items</code>, which have:
<ul>
<li><code>from</code> and <code>to</code> destinations;</li>
<li>parts section, which contains:
<ul>
<li><code>waypoint</code> information, such as <code>schedule</code> for each waypoint, including <code>price</code>, <code>date</code> and <code>time</code>;</li>
<li>Which <code>busCompany</code> offer these travels;</li>
<li><code>availableSeats</code> provides how many seats are available.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>EXAMPLE</strong></p>
<p>Searching for travels from <em>Sao Paulo, SP - Tiete</em> to <em>Santos, SP</em> in <em>11th Feb 2015</em>, with all correct params:</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/trips?from<span class="hljs-label">=sao</span>-paulo-tiete-<span class="hljs-literal">sp</span>&amp;to<span class="hljs-label">=santos</span>-<span class="hljs-literal">sp</span>&amp;departure<span class="hljs-number">=2015</span>-<span class="hljs-number">02</span>-<span class="hljs-number">11</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">items</span>": <span class="hljs-value">[{
        "<span class="hljs-attribute">from</span>": <span class="hljs-value"><span class="hljs-string">"Sao Paulo, SP - Tiete"</span></span>,
        "<span class="hljs-attribute">to</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
        "<span class="hljs-attribute">parts</span>": <span class="hljs-value">[{
            "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"2949"</span></span>,
            "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"2191"</span></span>,
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"4016"</span></span>,
                    "<span class="hljs-attribute">prices</span>": <span class="hljs-value">[{
                        "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                        "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"2191"</span>
                    </span>}]</span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNi0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tNy0tMjk0OS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}</span>,
                    "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                    "<span class="hljs-attribute">place</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"BRA"</span></span>,
                        "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Sao Paulo, SP - Tiete"</span></span>,
                        "<span class="hljs-attribute">station</span>": <span class="hljs-value">{
                            "<span class="hljs-attribute">current</span>": <span class="hljs-value">{
                                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"4016"</span></span>,
                                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Sao Paulo, SP - Tiete"</span></span>,
                                "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"en_US"</span>
                            </span>}</span>,
                            "<span class="hljs-attribute">default</span>": <span class="hljs-value">{
                                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                                "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">""</span>
                            </span>}
                        </span>}</span>,
                        "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"4016"</span>
                    </span>}</span>,
                    "<span class="hljs-attribute">isDeparture</span>": <span class="hljs-value"><span class="hljs-string">"true"</span></span>,
                    "<span class="hljs-attribute">position</span>": <span class="hljs-value"><span class="hljs-string">"0"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"2191"</span></span>,
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                    "<span class="hljs-attribute">prices</span>": <span class="hljs-value">[{
                        "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">""</span>
                    </span>}]</span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNi0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tNy0tMjk0OS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"02:10"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}</span>,
                    "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"arrival"</span></span>,
                    "<span class="hljs-attribute">place</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"BRA"</span></span>,
                        "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
                        "<span class="hljs-attribute">station</span>": <span class="hljs-value">{
                            "<span class="hljs-attribute">current</span>": <span class="hljs-value">{
                                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"111"</span></span>,
                                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
                                "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span>
                            </span>}</span>,
                            "<span class="hljs-attribute">default</span>": <span class="hljs-value">{
                                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                                "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">""</span>
                            </span>}
                        </span>}</span>,
                        "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span>
                    </span>}</span>,
                    "<span class="hljs-attribute">isDeparture</span>": <span class="hljs-value"><span class="hljs-string">"false"</span></span>,
                    "<span class="hljs-attribute">position</span>": <span class="hljs-value"><span class="hljs-string">"0"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">busCompany</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Cometa"</span></span>,
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"7"</span></span>,
                "<span class="hljs-attribute">logo</span>": <span class="hljs-value"><span class="hljs-string">"https://api-evaluation.clickbus.com.br/bundles/frontend/img/logos/buslines/small/bl-demon-s.png"</span>
            </span>}</span>,
            "<span class="hljs-attribute">bus</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1"</span>
            </span>}</span>,
            "<span class="hljs-attribute">waypoints</span>": <span class="hljs-value">[{
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"4016"</span></span>,
                "<span class="hljs-attribute">prices</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"2191"</span>
                </span>}]</span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNi0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tNy0tMjk0OS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}</span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">place</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"BRA"</span></span>,
                    "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">"SÃ£o Paulo"</span></span>,
                    "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"SÃ£o Paulo"</span></span>,
                    "<span class="hljs-attribute">station</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">current</span>": <span class="hljs-value">{
                            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"4016"</span></span>,
                            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Sao Paulo, SP - Tiete"</span></span>,
                            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span>
                        </span>}</span>,
                        "<span class="hljs-attribute">default</span>": <span class="hljs-value">{
                            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">""</span>
                        </span>}
                    </span>}</span>,
                    "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"123"</span>
                </span>}</span>,
                "<span class="hljs-attribute">isDeparture</span>": <span class="hljs-value"><span class="hljs-string">"true"</span></span>,
                "<span class="hljs-attribute">position</span>": <span class="hljs-value"><span class="hljs-string">"0"</span>
            </span>},
            {
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                "<span class="hljs-attribute">prices</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"2191"</span>
                </span>}]</span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNi0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tNy0tMjk0OS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}</span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"arrival"</span></span>,
                "<span class="hljs-attribute">place</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">country</span>": <span class="hljs-value"><span class="hljs-string">"BRA"</span></span>,
                    "<span class="hljs-attribute">state</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">city</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
                    "<span class="hljs-attribute">station</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">current</span>": <span class="hljs-value">{
                            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
                            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span>
                        </span>}</span>,
                        "<span class="hljs-attribute">default</span>": <span class="hljs-value">{
                            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">""</span>
                        </span>}
                    </span>}</span>,
                    "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span>
                </span>}</span>,
                "<span class="hljs-attribute">isDeparture</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
                "<span class="hljs-attribute">position</span>": <span class="hljs-value"><span class="hljs-number">0</span>
            </span>}]</span>,
            "<span class="hljs-attribute">seatTypes</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">availableSeats</span>": <span class="hljs-value"><span class="hljs-string">"44"</span>
        </span>}]
    </span>}]
</span>}</code></pre>
<p><strong>EXAMPLE</strong></p>
<p>Searching for travels from <em>Sao Paulo, SP - Tiete</em> to <em>Santos, SP</em> using an incorrect or even an unavailable date value on <em>departure</em>:</p>
<p><strong>REQUEST</strong></p>
<ul>
<li>
<p>For an incorrect value, like <code>99/99/9999</code>:</p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/trips?from<span class="hljs-label">=sao</span>-paulo-tiete-<span class="hljs-literal">sp</span>&amp;to<span class="hljs-label">=santos</span>-<span class="hljs-literal">sp</span>&amp;departure<span class="hljs-number">=9999</span>-<span class="hljs-number">99</span>-<span class="hljs-number">99</span></code></pre>
</li>
<li>
<p>For an unavailable value, like <code>1th January, 2010</code>:</p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/trips?from<span class="hljs-label">=sao</span>-paulo-tiete-<span class="hljs-literal">sp</span>&amp;to<span class="hljs-label">=santos</span>-<span class="hljs-literal">sp</span>&amp;departure<span class="hljs-number">=2010</span>-<span class="hljs-number">01</span>-<span class="hljs-number">01</span></code></pre>
</li>
</ul>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">items</span>": <span class="hljs-value">[]
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>J1</strong></td>
<td style="text-align:left"><em>Please provide the <code>from</code> parameter.</em></td>
<td style="text-align:left">The parameter <code>from</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J2</strong></td>
<td style="text-align:left"><em>Please provide the <code>to</code> parameter.</em></td>
<td style="text-align:left">The parameter <code>to</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J3</strong></td>
<td style="text-align:left"><em>Please provide the <code>departure</code> parameter.</em></td>
<td style="text-align:left">The parameter <code>departure</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J4</strong></td>
<td style="text-align:left"><em>The given <code>from</code> value is invalid or incorrect.</em></td>
<td style="text-align:left">The provided value for <code>from</code> is not a valid <strong>Place</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J5</strong></td>
<td style="text-align:left"><em>The given <code>to</code> value is invalid or incorrect.</em></td>
<td style="text-align:left">The provided value for <code>to</code> is not a valid <strong>Place</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J6</strong></td>
<td style="text-align:left"><em>The Application encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred while proccessing your Request before it’s sent to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J7</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J8</strong></td>
<td style="text-align:left"><em>Please provide a valid date for <code>departure</code>.</em></td>
<td style="text-align:left">The value for <code>departure</code> is invalid or incorrect.</td>
</tr>
<tr>
<td style="text-align:center"><strong>J9</strong></td>
<td style="text-align:left"><em>The <code>departure</code> date cannot occur in a day before today.</em></td>
<td style="text-align:left">The value for <code>departure</code> cannot be a date in the past.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/trips</span></div></div></div></section><section id="bus-companies" class="resource-group"><h2 class="group-heading">Bus Companies <a href="#bus-companies" class="permalink">&para;</a></h2><div id="bus-companies-list-all-bus-companies" class="resource"><h3 class="resource-heading">List All Bus Companies <a href="#bus-companies-list-all-bus-companies" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/buscompanies</code> provides a list of all available Bus Companies offered in ClickBus routes. This is useful to provide logos, identifiers and alias related to each Bus Company for any purposes that your application may use.</p>
<div id="bus-companies-list-all-bus-companies-get" class="action get"><h4 class="action-heading"><div class="name">List All Bus Companies</div><a href="#bus-companies-list-all-bus-companies-get" class="method get">GET</a><code class="uri">/buscompanies</code></h4><p><strong>PARAMETERS</strong></p>
<p><em>None</em></p>
<p>In the response, you can map the data as described below:</p>
<ul>
<li>The <code>meta</code> parameter contains all data for pagination, as:
<ul>
<li><code>total</code> is the amount of results obtained.</li>
<li><code>perPage</code> is the limit of results per page.</li>
<li><code>currentPage</code> displays on which page you actually are.</li>
<li><code>totalPages</code> indicates the amount of pages.</li>
<li><code>busCompanies</code> provides an array of Bus Companies, described as:
<ul>
<li><code>id</code> is the identifier, unique for each result.</li>
<li><code>name</code> is the Bus Company name.</li>
<li><code>logo</code> is an object containing <code>url</code>, which is the path for the Bus Company logo image file.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>EXAMPLE</strong></p>
<p>Listing all bus companies and their data.</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/<span class="hljs-keyword">buscompanies
</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "meta": {
        "total": 67,
        "perPage": 50,
        "currentPage": 1,
        "totalPages": 2
    },
    "busCompanies": [
        {
            "id": 1,
            "name": "1001",
            "logo": {
                "url": "https://s3-sa-east-1.amazonaws.com/legacy-static/bl-1001-s.jpg"
            }
        },
        {
            "id": 2,
            "name": "Andorinha",
            "logo": {
                "url": "https://s3-sa-east-1.amazonaws.com/legacy-static/bl-andorinha-s.jpg"
            }
        },
        {...}
    ]
}</code></pre>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/buscompanies</span></div></div></div><div id="bus-companies-get-a-single-bus-company" class="resource"><h3 class="resource-heading">Get a Single Bus Company <a href="#bus-companies-get-a-single-bus-company" class="permalink">&nbsp;&para;</a></h3><p>Once you have all identifiers for all Bus Companies, the resource <code>/buscompanies</code> provide a shortcut to retrieve a single Bus Company, related to the given <code>id</code>.</p>
<div id="bus-companies-get-a-single-bus-company-get" class="action get"><h4 class="action-heading"><div class="name">Get a Single Bus Company</div><a href="#bus-companies-get-a-single-bus-company-get" class="method get">GET</a><code class="uri">/buscompanies</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>id</strong> (required)</td>
<td style="text-align:left"><em>integer</em></td>
<td style="text-align:left">An identifier related to any Bus Company.</td>
<td style="text-align:left"><code>10</code></td>
</tr>
</tbody>
</table>
<p>As there is no pagination data for a single result, the <code>meta</code> parameter contains only an empty object.</p>
<ul>
<li><code>busCompanies</code> contains an array with a single Bus Company, described as:
<ul>
<li><code>id</code> is the identifier, unique for each result.</li>
<li><code>name</code> is the Bus Company name.</li>
<li><code>logo</code> is an object containing <code>url</code>, which is the path for the Bus Company logo image file.</li>
</ul>
</li>
</ul>
<p><strong>EXAMPLE</strong></p>
<p>Searching for a bus company, using the ID <code>2</code> (related to the <code>Andorinha</code> bus company).</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/<span class="hljs-keyword">buscompanies/2
</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code>{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">busCompanies</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-number">2</span></span>,
            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Andorinha"</span></span>,
            "<span class="hljs-attribute">logo</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"https://s3-sa-east-1.amazonaws.com/legacy-static/bl-andorinha-s.jpg"</span>
            </span>}
        </span>}
    ]
</span>}</code></pre>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/buscompanies</span></div></div></div></section><section id="session" class="resource-group"><h2 class="group-heading">Session <a href="#session" class="permalink">&para;</a></h2><div id="session-get-session" class="resource"><h3 class="resource-heading">Get Session <a href="#session-get-session" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/session</code> retrieves the current Session ID, which is useful to obtain data from the current session, like add a reservation by locking a seat using the <strong>Seat Block</strong> resource.</p>
<p><strong>NOTE:</strong> The token have a lifetime of ~15 minutes. After that, the token is expired, so you have to execute a new request to <code>/session</code> to generate a new token.</p>
<div id="session-get-session-get" class="action get"><h4 class="action-heading"><div class="name">Get Session</div><a href="#session-get-session-get" class="method get">GET</a><code class="uri">/session</code></h4><p><strong>PARAMETERS</strong></p>
<p><em>None</em></p>
<p>The given request returns a Response <em>201</em>, and the Session ID can be found at the response body, as follow:</p>
<p><strong>EXAMPLE</strong></p>
<p>Requesting a new Session ID.</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/session</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">content</span>": <span class="hljs-value"><span class="hljs-string">"or8k5s91s66fsl3bp6ksu96qs7"</span>
</span>}</code></pre>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/session</span></div></div></div></section><section id="trip-details" class="resource-group"><h2 class="group-heading">Trip Details <a href="#trip-details" class="permalink">&para;</a></h2><div id="trip-details-get-trip-details" class="resource"><h3 class="resource-heading">Get Trip Details <a href="#trip-details-get-trip-details" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/trip</code> return all information related to a specific trip, based on a given schedule ID (check <strong><a href="#trips">Trips</a></strong> resource for more details).</p>
<div id="trip-details-get-trip-details-get" class="action get"><h4 class="action-heading"><div class="name">Get Trip Details</div><a href="#trip-details-get-trip-details-get" class="method get">GET</a><code class="uri">/trip</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>scheduleId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">A given hash from a search part. See on <strong><a href="#trips">Trips</a></strong> resource, in the output, into each <code>items</code> part, the value on <code>departure.waypoint.schedule.id</code> node.</td>
<td style="text-align:left"><code>NDAxNi0tMzkzNS0tMjAxNS0wMi0xMSAwM...</code></td>
</tr>
</tbody>
</table>
<p>Using a valid <code>scheduleId</code>, the request will return a <em>200</em> Response, with the structure as described below:</p>
<ul>
<li><code>sessionId</code>, which is the current session’s ID;
<ul>
<li><code>content</code>, containing:
<ul>
<li><code>trip_id</code> which is the trip ID (each trip has it’s own ID);</li>
<li>The <code>busCompany</code> name;</li>
<li>The <code>bus</code> vehicle itself;</li>
<li>Each bus seat is listed on <code>seats</code>, with:
<ul>
<li>A single <code>id</code>;</li>
<li>The seat’s <code>name</code>;</li>
<li>If the seat is <code>available</code> or not:
<ul>
<li><code>&quot;1&quot;</code> if the Seat is available; otherwise, it will return an empty string (<code>&quot;&quot;</code>).</li>
</ul>
</li>
<li>The seat <code>position</code>, which is useful to understand how the <strong>Seat</strong> proccess works, distributed in:
<ul>
<li><code>x</code> is for the horizontal axis;</li>
<li><code>y</code> is for the vertical axis;</li>
<li><strong>NOTE:</strong> the <code>z</code> value is only required for double-decker vehicles.</li>
</ul>
</li>
<li>The seat <code>details</code>, which provides:
<ul>
<li>Seat’s <code>price</code>, <code>currency</code> and <code>seatTypes</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>EXAMPLE</strong></p>
<p>Get the trip details from <em>Sao Paulo, SP - Tiete</em> to <em>Santos, SP</em> in <em>11th Feb 2015</em> from a single part of this search.</p>
<p><strong>REQUEST</strong></p>
<pre><code>api/v<span class="hljs-number">1</span>/trip?scheduleId=<span class="hljs-label">NDAxNi0</span>tMzkz<span class="hljs-label">NS0</span>tMjAx<span class="hljs-label">NS0</span>wMi<span class="hljs-number">0</span>xMSAwMTowMC<span class="hljs-number">0</span>t<span class="hljs-label">Ny0</span>tMjk<span class="hljs-number">0</span>OS<span class="hljs-number">0</span>tMS<span class="hljs-number">0</span>tMS<span class="hljs-number">0</span>tMS<span class="hljs-number">0</span>tQ<span class="hljs-number">09</span>OVg==</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "meta": {},
    "sessionId": "oeccq3hugiknuj5f2luvvruvj7",
    "content": {
        "trip_id": "2949",
        "busCompany": {
            "name": "Cometa"
        },
        "bus": {
            "id": "",
            "name": ""
        },
        "seats": [{
            "id": "01",
            "name": "01",
            "available": "",
            "position": {
                "x": "1",
                "y": "0",
                "z": ""
            },
            "details": {
                "price": "2191",
                "currency": "R$",
                "seatTypes": []
            }
        }, {...}
        ]
    }
}</code></pre>
<p><strong>EXAMPLE</strong></p>
<p>Incorrect request (using a invalid or incorrect schedule ID).</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/trip?scheduleId<span class="hljs-number">=0123456789</span>abcdefghijklmnopqrstuvxz</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">error</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"I2"</span></span>,
            "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"Invalid Parameters"</span></span>,
            "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"The given 'scheduleId' is invalid."</span>
        </span>}
    ]
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>I1</strong></td>
<td style="text-align:left"><em>Please provide the <code>scheduleId</code>.</em></td>
<td style="text-align:left">The parameter <code>scheduleId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>I2</strong></td>
<td style="text-align:left"><em>The given <code>scheduleId</code> is invalid.</em></td>
<td style="text-align:left">The value for <code>scheduleId</code> is invalid or incorrect.</td>
</tr>
<tr>
<td style="text-align:center"><strong>I3</strong></td>
<td style="text-align:left"><em>Application Error</em></td>
<td style="text-align:left">The Application encountered a temporary error and could not complete your request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>I4</strong></td>
<td style="text-align:left"><em>Server Error</em></td>
<td style="text-align:left">The Server encountered a temporary error and could not complete your request.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/trip</span></div></div></div><div id="trip-details-how-seat-position-works" class="resource"><h3 class="resource-heading">How Seat Position works <a href="#trip-details-how-seat-position-works" class="permalink">&nbsp;&para;</a></h3><p>According to the explanation about the <code>seats</code> node information, retrieved on <code>/trip</code> resource, the Seat manipulation is as follow:</p>
<p>Let’s have a look back to our <code>seats</code> node, found inside the <code>/trip</code> Response:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">seats</span>": <span class="hljs-value">[{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"01"</span></span>,
        "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"01"</span></span>,
        "<span class="hljs-attribute">available</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">position</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">x</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
            "<span class="hljs-attribute">y</span>": <span class="hljs-value"><span class="hljs-string">"0"</span></span>,
            "<span class="hljs-attribute">z</span>": <span class="hljs-value"><span class="hljs-string">""</span>
        </span>}</span>,
        "<span class="hljs-attribute">details</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"2191"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"R$"</span></span>,
            "<span class="hljs-attribute">seatTypes</span>": <span class="hljs-value">[]
        </span>}
    </span>}]
</span>}</code></pre>
<p>The concept here is pretty simple: in the <code>position</code> node, we have 3 different values:</p>
<ul>
<li>
<p><code>x</code>, which represents the horizontal axis;</p>
</li>
<li>
<p><code>y</code>, which represents the horizontal axis;</p>
</li>
<li>
<p><code>z</code>, which we may disconsider by now (it’s only applied for double-decker vehicles).</p>
</li>
</ul>
<p>Consider the image below:</p>
<p><img src="img/1_bus.png" alt="Seat Selection - source: http://www.clickbus.com.br"></p>
<p>In this image, we can represent the Seat manipulation as an array, with X and Y axis:</p>
<p><img src="img/2_array.png" alt="Seat Selection - source: http://www.clickbus.com.br"></p>
<p>So, if you have the following coordinates: <code>{(X: 3, Y: 3),(X: 3, Y: 4),(X: 7, Y: 1)}</code>, you have selected the the following Seats, in sequence:</p>
<ul>
<li>
<p><code>(X: 3, Y: 3)</code> stands for Seat <code>&quot;name&quot;: &quot;16&quot;</code>;</p>
</li>
<li>
<p><code>(X: 3, Y: 4)</code> stands for Seat <code>&quot;name&quot;: &quot;15&quot;</code>;</p>
</li>
<li>
<p><code>(X: 7, Y: 1)</code> stands for Seat <code>&quot;name&quot;: &quot;30&quot;</code>;</p>
</li>
</ul>
<p><img src="img/3_seats.png" alt="Seat Selection - source: http://www.clickbus.com.br"></p>
</div></section><section id="seat-block" class="resource-group"><h2 class="group-heading">Seat Block <a href="#seat-block" class="permalink">&para;</a></h2><div id="seat-block-create-a-block-in-a-seat" class="resource"><h3 class="resource-heading">Create a block in a Seat <a href="#seat-block-create-a-block-in-a-seat" class="permalink">&nbsp;&para;</a></h3><p>This request creates a block in a Seat, which indicates that this Seat is now unavailable for other passengers.</p>
<p><strong>NOTES:</strong></p>
<ol>
<li>
<p>This block may last ~10 minutes. After that, the seat is available again;</p>
</li>
<li>
<p>Every Request’s header shall declare the key <code>PHPSESSID</code>, along with it’s value, Session’s ID (obtained on <strong>Session</strong>), as follow:</p>
<blockquote>
<p>Cookie: PHPSESSID=g1898g0ogdlh9f3mfra2hl3el3</p>
</blockquote>
</li>
<li>
<p>You can create up to 5 Seat blocks per Order.</p>
</li>
</ol>
<div id="seat-block-create-a-block-in-a-seat-put" class="action put"><h4 class="action-heading"><div class="name">Create a block in a Seat</div><a href="#seat-block-create-a-block-in-a-seat-put" class="method put">PUT</a><code class="uri">/seat-block</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object. Partners can use this parameter to provide their own <code>meta</code> information: <code>store</code>, <code>platform</code> and <code>model</code>.</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.from</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">A destination from where a trip starts. Same value used on <strong>Trips</strong>.</td>
<td style="text-align:left"><code>sao-paulo-tiete-sp</code></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.to">request.to</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">A destination to where a trip ends. Same value used on <strong>Trips</strong>.</td>
<td style="text-align:left"><code>santos-sp</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.seat</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The seat’s <code>name</code>, obtained on <strong>Trip Details</strong>.</td>
<td style="text-align:left"><code>07</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.passenger</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which contains multiple items, one for each passenger:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.passenger.name">request.passenger.name</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s name.</td>
<td style="text-align:left"><code>Fulano da Silva</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.passenger.document</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s document.</td>
<td style="text-align:left"><code>12345678900</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.passenger.documentType</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Type of the passenger’s <code>document</code>. It must be a document with a photo.</td>
<td style="text-align:left"><code>rg</code>, <code>passport</code>, …</td>
</tr>
<tr>
<td style="text-align:left"><strong>request.passenger.gender</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>M</code> stands for <em>Male</em>, and <code>F</code>, for <em>Female</em>.</td>
<td style="text-align:left"><code>M</code> or <code>F</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.schedule</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.schedule.id">request.schedule.id</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Schedule’s ID, obtained from <strong>Trip Details</strong>.</td>
<td style="text-align:left"><code>NDAxNy0tMzkzNS0tMjAxNS0wMi0xMSAw...</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.schedule.date</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Any valid date, in format <code>yyyy-mm-dd</code>. Use the same value applied on <strong>Trips</strong>.</td>
<td style="text-align:left"><code>2015-01-27</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.schedule.time</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Any valid time between <code>00:00</code> and <code>23:59</code>, in format <code>HH:ii</code>.</td>
<td style="text-align:left"><code>10:30</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.schedule.timezone</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Timezone information, based on actual country.</td>
<td style="text-align:left"><code>America/Sao_Paulo</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.sessionId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Session’s ID, obtained from <strong>Session</strong>.</td>
<td style="text-align:left"><code>dnlfm8aecg2omtjaang62fvla5</code></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Created a block for a Seat, named <em>07</em>, on a travel from <em>Sao Paulo, SP - Tiete</em> to <em>Santos, SP</em> in <em>27th January 2015</em>, with all params correct:</p>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">from</span>": <span class="hljs-value"><span class="hljs-string">"sao-paulo-tiete-sp"</span></span>,
        "<span class="hljs-attribute">to</span>": <span class="hljs-value"><span class="hljs-string">"santos-sp"</span></span>,
        "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"07"</span></span>,
        "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
            "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span>
        </span>}</span>,
        "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tOS0tNDMyMi0tMS0tMS0tMS0tQ09OVg=="</span></span>,
            "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-27"</span></span>,
            "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"10:30"</span></span>,
            "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
        </span>}</span>,
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"dnlfm8aecg2omtjaang62fvla5"</span>
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>This request, with all correct params and being executed before the Seat block’s life time ends, will return a Response <em>200</em>, with the following Response body:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">items</span>": <span class="hljs-value">[{
        "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"07"</span></span>,
        "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tOS0tNDMyMi0tMS0tMS0tMS0tQ09OVg=="</span></span>,
            "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
        </span>}</span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"blocked"</span></span>,
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"dnlfm8aecg2omtjaang62fvla5"</span></span>,
        "<span class="hljs-attribute">expireAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-20 17:46"</span>
    </span>}]
</span>}</code></pre>
<p><strong>NOTE:</strong> If, while a Request to create a Seat Block, the selected Seat is already blocked by other Request executed previously, you may receive the following <em>400</em> Response:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">error</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"H13"</span></span>,
            "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"Unavailable Seat"</span></span>,
            "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"The selected Seat is unavailable."</span>
        </span>}
    ]
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>H1</strong></td>
<td style="text-align:left"><em>Please provide the passenger’s <code>name</code>.</em></td>
<td style="text-align:left">The Passenger’s <code>name</code> is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H2</strong></td>
<td style="text-align:left"><em>Please provide a value for the passenger’s <code>name</code>.</em></td>
<td style="text-align:left">The Passenger’s <code>name</code> is empty.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H3</strong></td>
<td style="text-align:left"><em>Please provide the passengers <code>document</code>.</em></td>
<td style="text-align:left">The Passenger’s <code>document</code> is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H4</strong></td>
<td style="text-align:left"><em>Please provide a value for the passenger’s <code>document</code>.</em></td>
<td style="text-align:left">The Passenger’s <code>document</code> is empty.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H5</strong></td>
<td style="text-align:left"><em>Please provide the passenger’s <code>gender</code>.</em></td>
<td style="text-align:left">The Passenger’s <code>gender</code> is missing. Use <code>M</code> for <em>Male</em>, and <code>F</code>, for <em>Female</em>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H6</strong></td>
<td style="text-align:left"><em>Please provide a valid option for the passenger’s <code>gender</code>.</em></td>
<td style="text-align:left">The parameter <code>scheduleId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H7</strong></td>
<td style="text-align:left"><em>Please provide a <code>sessionId</code>.</em></td>
<td style="text-align:left">The parameter <code>sessionId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H8</strong></td>
<td style="text-align:left"><em>The given <code>sessionId</code> has expired.</em></td>
<td style="text-align:left">The value for <code>sessionId</code> has expired and is no longer valid. Please request a new value in <strong>Session</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H9</strong></td>
<td style="text-align:left"><em>Please provide the <code>scheduleId</code>.</em></td>
<td style="text-align:left">The parameter <code>scheduleId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H10</strong></td>
<td style="text-align:left"><em>The given <code>scheduleId</code> is invalid.</em></td>
<td style="text-align:left">The value for <code>scheduleId</code> has expired and is no longer valid. Please request a new value in <strong>Trips</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H11</strong></td>
<td style="text-align:left"><em>The Application encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred while proccessing your Request before it’s sent to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H12</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H13</strong></td>
<td style="text-align:left"><em>The selected Seat is unavailable.</em></td>
<td style="text-align:left">The selected Seat is already taken by another user.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H21</strong></td>
<td style="text-align:left"><em>Please provide the passenger’s document type.</em></td>
<td style="text-align:left">The Passenger’s <code>documentType</code> is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H22</strong></td>
<td style="text-align:left"><em>Please provide a value for the passenger’s document type.</em></td>
<td style="text-align:left">The Passenger’s <code>documentType</code> is empty.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method put">PUT</span>&nbsp;<span class="uri"><span class="hostname"></span>/seat-block</span></div></div></div><div id="seat-block-remove-a-block-in-a-seat" class="resource"><h3 class="resource-heading">Remove a block in a Seat <a href="#seat-block-remove-a-block-in-a-seat" class="permalink">&nbsp;&para;</a></h3><p>As opposed to the Create proccess, the Remove will delete a block created on a Seat, which automatically turns a Seat available for all passengers.</p>
<p><strong>NOTE:</strong></p>
<ul>
<li>Every Request’s header shall declare the key <code>PHPSESSID</code>, along with it’s value, Session’s ID (obtained on <strong>Session</strong>), as follow:
<blockquote>
<p>Cookie: PHPSESSID=g1898g0ogdlh9f3mfra2hl3el3</p>
</blockquote>
</li>
</ul>
<div id="seat-block-remove-a-block-in-a-seat-delete" class="action delete"><h4 class="action-heading"><div class="name">Remove a block in a Seat</div><a href="#seat-block-remove-a-block-in-a-seat-delete" class="method delete">DELETE</a><code class="uri">/seat-block</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object. Partners can use this parameter to provide their own <code>meta</code> information: <code>store</code>, <code>platform</code> and <code>model</code>.</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.seat</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The seat’s <code>name</code>, obtained on <strong>Trip Details</strong>.</td>
<td style="text-align:left"><code>07</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.schedule</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.schedule.id">request.schedule.id</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Schedule’s ID, obtained from <strong>Trip Details</strong>.</td>
<td style="text-align:left"><code>NDAxNy0tMzkzNS0tMjAxNS0wMi0xMSAw...</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.sessionId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Session’s ID, obtained from <strong>Session</strong>.</td>
<td style="text-align:left"><code>dnlfm8aecg2omtjaang62fvla5</code></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Removing the Seat block, named <em>07</em>, on a travel from <em>Sao Paulo, SP - Tiete</em> to <em>Santos, SP</em> in <em>27th January 2015</em>, with all params correct:</p>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"07"</span></span>,
        "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMi0xMSAwMTowMC0tOS0tNDMyMi0tMS0tMS0tMS0tQ09OVg=="</span>
        </span>}</span>,
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"dnlfm8aecg2omtjaang62fvla5"</span>
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>This request, with all correct params, will return a Response <em>202</em>, with the following Response body:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"canceled"</span></span>,
        "<span class="hljs-attribute">messages</span>": <span class="hljs-value">[]</span>,
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"dnlfm8aecg2omtjaang62fvla5"</span>
    </span>}
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>H14</strong></td>
<td style="text-align:left"><em>Please provide a <code>sessionId</code>.</em></td>
<td style="text-align:left">The parameter <code>sessionId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H15</strong></td>
<td style="text-align:left"><em>The given <code>sessionId</code> has expired.</em></td>
<td style="text-align:left">The value for <code>sessionId</code> has expired and is no longer valid. Please request a new value in <strong>Session</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H16</strong></td>
<td style="text-align:left"><em>Please provide the <code>scheduleId</code>.</em></td>
<td style="text-align:left">The parameter <code>scheduleId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H17</strong></td>
<td style="text-align:left"><em>The given <code>scheduleId</code> is invalid.</em></td>
<td style="text-align:left">The value for <code>scheduleId</code> has expired and is no longer valid. Please request a new value in <strong>Trips</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H18</strong></td>
<td style="text-align:left"><em>The Application encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred while proccessing your Request before it’s sent to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H19</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>H20</strong></td>
<td style="text-align:left"><em>Busy seat.</em></td>
<td style="text-align:left">The lifetime of the Seat Block is expired.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method delete">DELETE</span>&nbsp;<span class="uri"><span class="hostname"></span>/seat-block</span></div></div></div></section><section id="payment-stateful" class="resource-group"><h2 class="group-heading">Payment STATEFUL <a href="#payment-stateful" class="permalink">&para;</a></h2><div id="payment-stateful-calculate-your-items-by-sessionid" class="resource"><h3 class="resource-heading">Calculate your Items by SessionId <a href="#payment-stateful-calculate-your-items-by-sessionid" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/payment</code> retrieves all the payment details without the need of a purchase, according to your query parameters, which are:</p>
<ul>
<li>
<p><code>model</code></p>
</li>
<li>
<p><code>store</code></p>
</li>
<li>
<p><code>platform</code></p>
</li>
</ul>
<p>These parameters are created for each partner, and they are required for each request. If you have any doubts or questions about how to obtain these values, please contact our commercial department at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a>.</p>
<div id="payment-stateful-calculate-your-items-by-sessionid-get" class="action get"><h4 class="action-heading"><div class="name">Calculate your Items by SessionId (Stateful Mode)</div><a href="#payment-stateful-calculate-your-items-by-sessionid-get" class="method get">GET</a><code class="uri">/payment</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>model</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>model</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>retail</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>store</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>store</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>newstore</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>platform</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>platform</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>web</code></td>
</tr>
</tbody>
</table>
<p>This endpoint is connected with <strong>SEAT BLOCK</strong> endpoint. It’s depend of the block to get the <strong>SESSIONID</strong> on cookies and calculate all costs on the flow.</p>
<p><strong>EXAMPLE</strong></p>
<p>Calculate a purchase of 10 seats, from <code>sao-paulo-tiete-sp</code> to <code>santos-sp</code>, being 5 seats for each trip, after this seats is blocked.</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/payment?store<span class="hljs-label">=clickbus</span>&amp;platform<span class="hljs-label">=web</span>&amp;model<span class="hljs-label">=retail</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>With the correct params, this resource returns a Response <em>200 OK</em>, as below:</p>
<pre><code class="language-json">{  
   "<span class="hljs-attribute">meta</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
   "<span class="hljs-attribute">paymentSettings</span>":<span class="hljs-value">{  
      "<span class="hljs-attribute">creditcard</span>":<span class="hljs-value">{  
         "<span class="hljs-attribute">total</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">1</span>":<span class="hljs-value"><span class="hljs-string">"262.90"</span></span>,
            "<span class="hljs-attribute">2</span>":<span class="hljs-value"><span class="hljs-string">"273.30"</span></span>,
            "<span class="hljs-attribute">3</span>":<span class="hljs-value"><span class="hljs-string">"276.82"</span></span>,
            "<span class="hljs-attribute">4</span>":<span class="hljs-value"><span class="hljs-string">"280.40"</span></span>,
            "<span class="hljs-attribute">5</span>":<span class="hljs-value"><span class="hljs-string">"284.00"</span></span>,
            "<span class="hljs-attribute">6</span>":<span class="hljs-value"><span class="hljs-string">"287.62"</span></span>,
            "<span class="hljs-attribute">7</span>":<span class="hljs-value"><span class="hljs-string">"235.61"</span></span>,
            "<span class="hljs-attribute">8</span>":<span class="hljs-value"><span class="hljs-string">"235.61"</span></span>,
            "<span class="hljs-attribute">9</span>":<span class="hljs-value"><span class="hljs-string">"298.73"</span></span>,
            "<span class="hljs-attribute">10</span>":<span class="hljs-value"><span class="hljs-string">"302.49"</span></span>,
            "<span class="hljs-attribute">11</span>":<span class="hljs-value"><span class="hljs-string">"235.61"</span></span>,
            "<span class="hljs-attribute">12</span>":<span class="hljs-value"><span class="hljs-string">"310.12"</span>
         </span>}</span>,
         "<span class="hljs-attribute">discount_id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_type</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_value</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savings</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savingsType</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">fixedValue</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">1</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">2</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">3</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">4</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">5</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">6</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">7</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">8</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">9</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">10</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">11</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">12</span>":<span class="hljs-value"><span class="hljs-number">5</span>
         </span>}</span>,
         "<span class="hljs-attribute">serviceFee</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">1</span>":<span class="hljs-value"><span class="hljs-number">32.2854</span></span>,
            "<span class="hljs-attribute">2</span>":<span class="hljs-value"><span class="hljs-number">42.685911</span></span>,
            "<span class="hljs-attribute">3</span>":<span class="hljs-value"><span class="hljs-number">46.214244</span></span>,
            "<span class="hljs-attribute">4</span>":<span class="hljs-value"><span class="hljs-number">49.788699</span></span>,
            "<span class="hljs-attribute">5</span>":<span class="hljs-value"><span class="hljs-number">53.386215</span></span>,
            "<span class="hljs-attribute">6</span>":<span class="hljs-value"><span class="hljs-number">57.006792</span></span>,
            "<span class="hljs-attribute">7</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">8</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">9</span>":<span class="hljs-value"><span class="hljs-number">68.122194</span></span>,
            "<span class="hljs-attribute">10</span>":<span class="hljs-value"><span class="hljs-number">71.881137</span></span>,
            "<span class="hljs-attribute">11</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">12</span>":<span class="hljs-value"><span class="hljs-number">79.514328</span>
         </span>}</span>,
         "<span class="hljs-attribute">serviceFeePercentage</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">1</span>":<span class="hljs-value"><span class="hljs-number">14</span></span>,
            "<span class="hljs-attribute">2</span>":<span class="hljs-value"><span class="hljs-number">18.51</span></span>,
            "<span class="hljs-attribute">3</span>":<span class="hljs-value"><span class="hljs-number">20.04</span></span>,
            "<span class="hljs-attribute">4</span>":<span class="hljs-value"><span class="hljs-number">21.59</span></span>,
            "<span class="hljs-attribute">5</span>":<span class="hljs-value"><span class="hljs-number">23.15</span></span>,
            "<span class="hljs-attribute">6</span>":<span class="hljs-value"><span class="hljs-number">24.72</span></span>,
            "<span class="hljs-attribute">7</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">8</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">9</span>":<span class="hljs-value"><span class="hljs-number">29.54</span></span>,
            "<span class="hljs-attribute">10</span>":<span class="hljs-value"><span class="hljs-number">31.17</span></span>,
            "<span class="hljs-attribute">11</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">12</span>":<span class="hljs-value"><span class="hljs-number">34.48</span>
         </span>}</span>,
         "<span class="hljs-attribute">tripInsurancePercentage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">tripInsuranceValue</span>":<span class="hljs-value"><span class="hljs-number">4.99</span></span>,
         "<span class="hljs-attribute">installmentEnabled</span>":<span class="hljs-value">{  
            "<span class="hljs-attribute">1</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">2</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">3</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">4</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">5</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">6</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">7</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
            "<span class="hljs-attribute">8</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
            "<span class="hljs-attribute">9</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">10</span>":<span class="hljs-value"><span class="hljs-literal">true</span></span>,
            "<span class="hljs-attribute">11</span>":<span class="hljs-value"><span class="hljs-literal">false</span></span>,
            "<span class="hljs-attribute">12</span>":<span class="hljs-value"><span class="hljs-literal">true</span>
         </span>}
      </span>}</span>,
      "<span class="hljs-attribute">creditcard.mercadopago</span>":<span class="hljs-value">{  
         "<span class="hljs-attribute">total</span>":<span class="hljs-value">[  

         ]</span>,
         "<span class="hljs-attribute">discount_id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_type</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_value</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savings</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">fixedValue</span>":<span class="hljs-value">[  

         ]</span>,
         "<span class="hljs-attribute">serviceFee</span>":<span class="hljs-value">[  

         ]</span>,
         "<span class="hljs-attribute">serviceFeePercentage</span>":<span class="hljs-value">[  

         ]</span>,
         "<span class="hljs-attribute">tripInsurancePercentage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">tripInsuranceValue</span>":<span class="hljs-value"><span class="hljs-number">0</span>
      </span>}</span>,
      "<span class="hljs-attribute">debitcard</span>":<span class="hljs-value">{  
         "<span class="hljs-attribute">total</span>":<span class="hljs-value"><span class="hljs-string">"262.90"</span></span>,
         "<span class="hljs-attribute">discount_id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_type</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_value</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savings</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savingsType</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">fixedValue</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
         "<span class="hljs-attribute">serviceFee</span>":<span class="hljs-value"><span class="hljs-number">32.2854</span></span>,
         "<span class="hljs-attribute">serviceFeePercentage</span>":<span class="hljs-value"><span class="hljs-number">14</span></span>,
         "<span class="hljs-attribute">tripInsurancePercentage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">tripInsuranceValue</span>":<span class="hljs-value"><span class="hljs-number">4.99</span>
      </span>}</span>,
      "<span class="hljs-attribute">paypal_hpp</span>":<span class="hljs-value">{  
         "<span class="hljs-attribute">total</span>":<span class="hljs-value"><span class="hljs-string">"262.90"</span></span>,
         "<span class="hljs-attribute">discount_id</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_type</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">discount_value</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savings</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">savingsType</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">fixedValue</span>":<span class="hljs-value"><span class="hljs-number">5</span></span>,
         "<span class="hljs-attribute">serviceFee</span>":<span class="hljs-value"><span class="hljs-number">32.2854</span></span>,
         "<span class="hljs-attribute">serviceFeePercentage</span>":<span class="hljs-value"><span class="hljs-number">14</span></span>,
         "<span class="hljs-attribute">tripInsurancePercentage</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,
         "<span class="hljs-attribute">tripInsuranceValue</span>":<span class="hljs-value"><span class="hljs-number">4.99</span>
      </span>}
   </span>}
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>E1</strong></td>
<td style="text-align:left"><em>Please provide the <code>store</code> value.</em></td>
<td style="text-align:left">The <code>store</code> field is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>E2</strong></td>
<td style="text-align:left"><em>Please provide the <code>platform</code> value.</em></td>
<td style="text-align:left">The <code>platform</code> field is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>E3</strong></td>
<td style="text-align:left"><em>Please provide the <code>model</code> value.</em></td>
<td style="text-align:left">The <code>model</code> field is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>E4</strong></td>
<td style="text-align:left"><em>Invalid Parameters.</em></td>
<td style="text-align:left">One of the following parameters is incorrect: <code>store</code>, <code>platform</code> or <code>model</code>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>E5</strong></td>
<td style="text-align:left"><em>The Application encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred while proccessing your Request</td>
</tr>
<tr>
<td style="text-align:center"><strong>E6</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/payment</span></div></div></div><div id="payment-stateful-how-payment-works" class="resource"><h3 class="resource-heading">How Payment Works <a href="#payment-stateful-how-payment-works" class="permalink">&nbsp;&para;</a></h3><p>This resource provides a list for each payment option that our API offers. The calculus is based on the following operation:</p>
<p>So, based on the following example:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">paymentSettings</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">creditcard</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">total</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">1</span>": <span class="hljs-value"><span class="hljs-string">"262.90"</span></span>,
                "<span class="hljs-attribute">2</span>": <span class="hljs-value"><span class="hljs-string">"273.30"</span></span>,
                "<span class="hljs-attribute">3</span>": <span class="hljs-value"><span class="hljs-string">"276.82"</span></span>,
                "<span class="hljs-attribute">4</span>": <span class="hljs-value"><span class="hljs-string">"280.40"</span></span>,
                "<span class="hljs-attribute">5</span>": <span class="hljs-value"><span class="hljs-string">"284.00"</span></span>,
                "<span class="hljs-attribute">6</span>": <span class="hljs-value"><span class="hljs-string">"287.62"</span></span>,
                "<span class="hljs-attribute">7</span>": <span class="hljs-value"><span class="hljs-string">"235.61"</span></span>,
                "<span class="hljs-attribute">8</span>": <span class="hljs-value"><span class="hljs-string">"235.61"</span></span>,
                "<span class="hljs-attribute">9</span>": <span class="hljs-value"><span class="hljs-string">"298.73"</span></span>,
                "<span class="hljs-attribute">10</span>": <span class="hljs-value"><span class="hljs-string">"302.49"</span></span>,
                "<span class="hljs-attribute">11</span>": <span class="hljs-value"><span class="hljs-string">"235.61"</span></span>,
                "<span class="hljs-attribute">12</span>": <span class="hljs-value"><span class="hljs-string">"310.12"</span>
            </span>}</span>,
            "<span class="hljs-attribute">discount_id</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_type</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_value</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savings</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savingsType</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">fixedValue</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">1</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">2</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">3</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">4</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">5</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">6</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">7</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">8</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">9</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">10</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">11</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">12</span>": <span class="hljs-value"><span class="hljs-number">5</span>
            </span>}</span>,
            "<span class="hljs-attribute">serviceFee</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">1</span>": <span class="hljs-value"><span class="hljs-number">32.2854</span></span>,
                "<span class="hljs-attribute">2</span>": <span class="hljs-value"><span class="hljs-number">42.685911</span></span>,
                "<span class="hljs-attribute">3</span>": <span class="hljs-value"><span class="hljs-number">46.214244</span></span>,
                "<span class="hljs-attribute">4</span>": <span class="hljs-value"><span class="hljs-number">49.788699</span></span>,
                "<span class="hljs-attribute">5</span>": <span class="hljs-value"><span class="hljs-number">53.386215</span></span>,
                "<span class="hljs-attribute">6</span>": <span class="hljs-value"><span class="hljs-number">57.006792</span></span>,
                "<span class="hljs-attribute">7</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">8</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">9</span>": <span class="hljs-value"><span class="hljs-number">68.122194</span></span>,
                "<span class="hljs-attribute">10</span>": <span class="hljs-value"><span class="hljs-number">71.881137</span></span>,
                "<span class="hljs-attribute">11</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
                "<span class="hljs-attribute">12</span>": <span class="hljs-value"><span class="hljs-number">79.514328</span>
            </span>}</span>,
            "<span class="hljs-attribute">serviceFeePercentage</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">1</span>": <span class="hljs-value"><span class="hljs-number">14</span></span>,
                "<span class="hljs-attribute">2</span>": <span class="hljs-value"><span class="hljs-number">18.51</span></span>,
                "<span class="hljs-attribute">3</span>": <span class="hljs-value"><span class="hljs-number">20.04</span></span>,
                "<span class="hljs-attribute">4</span>": <span class="hljs-value"><span class="hljs-number">21.59</span></span>,
                "<span class="hljs-attribute">5</span>": <span class="hljs-value"><span class="hljs-number">23.15</span></span>,
                "<span class="hljs-attribute">6</span>": <span class="hljs-value"><span class="hljs-number">24.72</span></span>,
                "<span class="hljs-attribute">7</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
                "<span class="hljs-attribute">8</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
                "<span class="hljs-attribute">9</span>": <span class="hljs-value"><span class="hljs-number">29.54</span></span>,
                "<span class="hljs-attribute">10</span>": <span class="hljs-value"><span class="hljs-number">31.17</span></span>,
                "<span class="hljs-attribute">11</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
                "<span class="hljs-attribute">12</span>": <span class="hljs-value"><span class="hljs-number">34.48</span>
            </span>}</span>,
            "<span class="hljs-attribute">tripInsurancePercentage</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">tripInsuranceValue</span>": <span class="hljs-value"><span class="hljs-number">4.99</span></span>,
            "<span class="hljs-attribute">installmentEnabled</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">1</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">2</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">3</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">4</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">5</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">6</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">7</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
                "<span class="hljs-attribute">8</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
                "<span class="hljs-attribute">9</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">10</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
                "<span class="hljs-attribute">11</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
                "<span class="hljs-attribute">12</span>": <span class="hljs-value"><span class="hljs-literal">true</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">creditcard.mercadopago</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">total</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">discount_id</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_type</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_value</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savings</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">fixedValue</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">serviceFee</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">serviceFeePercentage</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">tripInsurancePercentage</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">tripInsuranceValue</span>": <span class="hljs-value"><span class="hljs-number">0</span>
        </span>}</span>,
        "<span class="hljs-attribute">debitcard</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"262.90"</span></span>,
            "<span class="hljs-attribute">discount_id</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_type</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_value</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savings</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savingsType</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">fixedValue</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">serviceFee</span>": <span class="hljs-value"><span class="hljs-number">32.2854</span></span>,
            "<span class="hljs-attribute">serviceFeePercentage</span>": <span class="hljs-value"><span class="hljs-number">14</span></span>,
            "<span class="hljs-attribute">tripInsurancePercentage</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">tripInsuranceValue</span>": <span class="hljs-value"><span class="hljs-number">4.99</span>
        </span>}</span>,
        "<span class="hljs-attribute">paypal_hpp</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"262.90"</span></span>,
            "<span class="hljs-attribute">discount_id</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_type</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">discount_value</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savings</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">savingsType</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">fixedValue</span>": <span class="hljs-value"><span class="hljs-number">5</span></span>,
            "<span class="hljs-attribute">serviceFee</span>": <span class="hljs-value"><span class="hljs-number">32.2854</span></span>,
            "<span class="hljs-attribute">serviceFeePercentage</span>": <span class="hljs-value"><span class="hljs-number">14</span></span>,
            "<span class="hljs-attribute">tripInsurancePercentage</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>,
            "<span class="hljs-attribute">tripInsuranceValue</span>": <span class="hljs-value"><span class="hljs-number">4.99</span>
        </span>}
    </span>}
</span>}</code></pre>
<ul>
<li>
<p>If the customer decides to pay in a single installment:</p>
</li>
<li>
<p>The <code>original_cost</code> is <em>230.60</em>, the <code>fee</code> is <em>32.30</em> and the <code>discount_value</code> is <em>0</em>;</p>
<blockquote>
<p>(230.60 + 32.30) = <strong>262.90</strong> is the <code>total</code> value.</p>
<p>((<code>total</code>) - 0) / 1 = <strong>262.90</strong> is the value for each <code>installment</code>.</p>
</blockquote>
</li>
<li>
<p><code>total</code> is the total value, based on <code>installment</code> + <code>fee</code>;</p>
</li>
<li>
<p><code>total_with_discount</code> is the same total value, but applying the <code>discount_value</code>.</p>
</li>
</ul>
<hr>
</div><div id="payment-stateful-supported-card-brands" class="resource"><h3 class="resource-heading">Supported Card Brands <a href="#payment-stateful-supported-card-brands" class="permalink">&nbsp;&para;</a></h3><p>Below you can find a list of supported card brands, based on each payment method:</p>
<ul>
<li>
<p><strong>Credit Card</strong> (<code>creditcard</code>):</p>
<ul>
<li>American Express (<code>amex</code>)</li>
<li>Diners (<code>diners</code>)</li>
<li>Elo (<code>elo</code>)</li>
<li>Hipercard (<code>hipercard</code>)</li>
<li>MasterCard (<code>mastercard</code>)</li>
<li>Visa (<code>visa</code>)</li>
</ul>
</li>
<li>
<p><strong>Debit Card</strong> (<code>debitcard</code>)</p>
<ul>
<li>Visa Electron (<code>visa-electron</code>)</li>
<li>MasterCard Maestro (<code>mastercard-maestro</code>)</li>
</ul>
</li>
</ul>
<p>For <strong>PayPal</strong> (<code>paypal_hpp</code>), there is no specific limitation for brands.</p>
</div></section><section id="payments" class="resource-group"><h2 class="group-heading">Payments <a href="#payments" class="permalink">&para;</a></h2><div id="payments-calculate-your-items" class="resource"><h3 class="resource-heading">Calculate your Items <a href="#payments-calculate-your-items" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/payments</code> retrieves all the payment details without the need of a purchase, according to your <code>meta</code> parameters, which are:</p>
<ul>
<li>
<p><code>model</code></p>
</li>
<li>
<p><code>store</code></p>
</li>
<li>
<p><code>platform</code></p>
</li>
</ul>
<p>These parameters are created for each partner, and they are required for each request. If you have any doubts or questions about how to obtain these values, please contact our commercial department at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a>.</p>
<div id="payments-calculate-your-items-post" class="action post"><h4 class="action-heading"><div class="name">Calculate your Items</div><a href="#payments-calculate-your-items-post" class="method post">POST</a><code class="uri">/payments</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object, where you should provide the values fot <code>store</code>, <code>model</code> and <code>platform</code>.</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.model</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>model</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>retail</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.store</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>store</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>newstore</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.platform</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>platform</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>web</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>contents</strong> (required)</td>
<td style="text-align:left"><em>array</em></td>
<td style="text-align:left">An array of objects, where each object shall contain the following values:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>scheduleId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The <code>scheduleId</code> for each of the desired trips (departure or return).</td>
<td style="text-align:left"><code>SUVScFpTQkVhV1VnVFh...</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>ticket_amount</strong> (required)</td>
<td style="text-align:left"><em>integer</em></td>
<td style="text-align:left">The amount of seats for this trip (departure or return).</td>
<td style="text-align:left"><code>8</code></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Calculate a purchase of 10 seats, from <code>sao-paulo-tiete-sp</code> to <code>santos-sp</code>, being 5 seats for each trip.</p>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"clickbus"</span></span>,
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"retail"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">contents</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"YmFzZTY0LCBu8YXNlNjQsIGJpdGNoZXMhIGJhc2U2NCwgYml0Y2hlcyE="</span></span>,
            "<span class="hljs-attribute">ticket_amount</span>" : <span class="hljs-value"><span class="hljs-number">5</span>
        </span>},
        {
            "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"SGV5ISBUaGlzIGlzIG5vdCB5b3VyIHNoaXR0eSBtZDUsIGR1bWJhc3Mh"</span></span>,
            "<span class="hljs-attribute">ticket_amount</span>" : <span class="hljs-value"><span class="hljs-number">5</span>
        </span>}
    ]
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>With the correct params, this resource returns a Response <em>200 OK</em>, as below:</p>
<pre><code class="language-json">{
    "meta": {
        "store": "clickbus",
        "model": "retail",
        "platform": "web"
    },
    "ticket_amount": 10,
    "original_cost": 42.75,
    "items": {
        "payment_methods": [
            {
                "name": "creditcard",
                "details": [
                    {
                        "brand": "mastercard",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 5.56,
                                "installment": 48.31,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            },
                            "2": {
                                "fee": 5.56,
                                "installment": 24.16,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            }, { ... }
                        }
                    },
                    {
                        "brand": "visa",
                        "discount_value": 7.7,
                        "installments": {
                            "1": {
                                "fee": 5.56,
                                "installment": 40.61,
                                "total": 48.31,
                                "total_with_discount": 40.61
                            },
                            "2": {
                                "fee": 5.56,
                                "installment": 20.31,
                                "total": 48.31,
                                "total_with_discount": 40.61
                            }, { ... }
                        }
                    },
                    {
                        "brand": "amex",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 5.56,
                                "installment": 48.31,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            },
                            "2": {
                                "fee": 5.56,
                                "installment": 24.16,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            }, { ... }
                        }
                    },
                    {
                        "brand": "diners",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 5.56,
                                "installment": 48.31,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            },
                            "2": {
                                "fee": 5.56,
                                "installment": 24.16,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            }, { ... }
                        }
                    },
                    {
                        "brand": "hipercard",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 5.56,
                                "installment": 48.31,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            },
                            "2": {
                                "fee": 5.56,
                                "installment": 24.16,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            }, { ... }
                        }
                    },
                    {
                        "brand": "elo",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 5.56,
                                "installment": 48.31,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            },
                            "2": {
                                "fee": 5.56,
                                "installment": 24.16,
                                "total": 48.31,
                                "total_with_discount": 48.31
                            }, { ... }
                        }
                    }
                ]
            },
            {
                "name": "paypal_hpp",
                "details": [
                    {
                        "brand": "paypal",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 0,
                                "installment": 42.75,
                                "total": 42.75,
                                "total_with_discount": 42.75
                            }
                        }
                    }
                ]
            },
            {
                "name": "debitcard",
                "details": [
                    {
                        "brand": "visa-electron",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 0,
                                "installment": 42.75,
                                "total": 42.75,
                                "total_with_discount": 42.75
                            }
                        }
                    },
                    {
                        "brand": "mastercard-maestro",
                        "discount_value": 0,
                        "installments": {
                            "1": {
                                "fee": 0,
                                "installment": 42.75,
                                "total": 42.75,
                                "total_with_discount": 42.75
                            }
                        }
                    }
                ]
            }
        ]
    }
}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>K1</strong></td>
<td style="text-align:left"><em>Please provide the <code>meta</code> block.</em></td>
<td style="text-align:left">The parameter <code>meta</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K2</strong></td>
<td style="text-align:left"><em>Please provide your store parameters for meta.</em></td>
<td style="text-align:left">At least one of the parameters <code>store</code>, <code>model</code> or <code>platform</code> is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K3</strong></td>
<td style="text-align:left"><em>One of the following parameters are incorrect: <code>store</code>, <code>platform</code> or <code>model</code>.</em></td>
<td style="text-align:left">One of the <code>meta</code> values is incorrect (<code>store</code>, <code>model</code> or <code>platform</code>).</td>
</tr>
<tr>
<td style="text-align:center"><strong>K4</strong></td>
<td style="text-align:left"><em>Please provide the <code>contents</code> block.</em></td>
<td style="text-align:left">The parameter <code>contents</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K5</strong></td>
<td style="text-align:left"><em>Please provide at least one seat information.</em></td>
<td style="text-align:left">The parameter <code>contents</code> is empty.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K6</strong></td>
<td style="text-align:left"><em>Please provide the right params for the seats.</em></td>
<td style="text-align:left">At least one of the values inside <code>contents</code> is missing one of it’s required parameters: <code>scheduleId</code> or <code>ticket_amount</code>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K7</strong></td>
<td style="text-align:left"><em>The given <code>scheduleId</code> is incorrect.</em></td>
<td style="text-align:left">One of the given <code>scheduleId</code> is incorrect or invalid.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K8</strong></td>
<td style="text-align:left"><em>The given <code>ticket_amount</code> is incorrect.</em></td>
<td style="text-align:left">One of the given <code>ticket_amount</code> is incorrect.</td>
</tr>
<tr>
<td style="text-align:center"><strong>K9</strong></td>
<td style="text-align:left"><em>The request is malformed. Please check the contents of your request.</em></td>
<td style="text-align:left">Please check your request for any JSON malforming.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/payments</span></div></div></div><div id="payments-how-payments-works" class="resource"><h3 class="resource-heading">How Payments Works <a href="#payments-how-payments-works" class="permalink">&nbsp;&para;</a></h3><p>This resource provides a list for each payment option that our API offers. The calculus is based on the following operation:</p>
<ul>
<li>
<p><code>ticket_amount</code> stands for the seats quantity, based on how many seats were provided in the request;</p>
</li>
<li>
<p><code>original_cost</code> stands for the ticket’s original price;</p>
</li>
<li>
<p><code>payment_methods[].details[].discount_value</code> is the discount value that will be applied for this brand;</p>
</li>
<li>
<p><code>installment</code> is the installment value itself, calculated as:</p>
<blockquote>
<p>((<code>original_cost</code> + <code>fee</code>) - <code>discount_value</code>) / <code>installment</code> quantity</p>
</blockquote>
<p>So, based on the following example:</p>
<pre><code class="language-json">"1": {
    "fee": 5.43,
    "installment": 47.23,
    "total": 47.23,
    "total_with_discount": 47.23
},
"2": {
    "fee": 6.27,
    "installment": 24.03,
    "total": 48.07,
    "total_with_discount": 48.07
}</code></pre>
<ul>
<li>
<p>If the customer decides to pay in a single installment:</p>
<ul>
<li>The <code>original_cost</code> is <em>41.80</em>, the <code>fee</code> is <em>5.43</em> and the <code>discount_value</code> is <em>0</em>;
<blockquote>
<p>(41.8 + 5.43) = <strong>47.23</strong> is the <code>total</code> value.</p>
<p>((<code>total</code>) - 0) / 1 = <strong>47.23</strong> is the value for each <code>installment</code>.</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>If the customer decides to pay in two installments:</p>
<ul>
<li>The <code>original_cost</code> is <em>41.80</em>, the <code>fee</code> is <em>6.27</em> and the <code>discount_value</code> is <em>0</em>;
<blockquote>
<p>(41.8 + 6.27) = <strong>48.07</strong> is the <code>total</code> value.</p>
<p>((<code>total</code>) - 0) / 2 = <strong>24.03</strong> is the value for each <code>installment</code>.</p>
</blockquote>
</li>
</ul>
</li>
<li>
<p>If the customer decides to pay in two installments, but there is a discount value:</p>
<ul>
<li>The <code>original_cost</code> is <em>41.80</em>, the <code>fee</code> is <em>6.27</em> and the <code>discount_value</code> is <em>7.52</em>;
<blockquote>
<p>(41.8 + 6.27) = <strong>48.07</strong> is the <code>total</code> value.</p>
<p>((<code>total</code>) - 7.52) / 2 = <strong>20.27</strong> is the value for each <code>installment</code>.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>total</code> is the total value, based on <code>installment</code> + <code>fee</code>;</p>
</li>
<li>
<p><code>total_with_discount</code> is the same total value, but applying the <code>discount_value</code>.</p>
</li>
</ul>
<hr>
</div><div id="payments-supported-card-brands" class="resource"><h3 class="resource-heading">Supported Card Brands <a href="#payments-supported-card-brands" class="permalink">&nbsp;&para;</a></h3><p>Below you can find a list of supported card brands, based on each payment method:</p>
<ul>
<li>
<p><strong>Credit Card</strong> (<code>creditcard</code>):</p>
<ul>
<li>American Express (<code>amex</code>)</li>
<li>Diners (<code>diners</code>)</li>
<li>Elo (<code>elo</code>)</li>
<li>Hipercard (<code>hipercard</code>)</li>
<li>MasterCard (<code>mastercard</code>)</li>
<li>Visa (<code>visa</code>)</li>
</ul>
</li>
<li>
<p><strong>Debit Card</strong> (<code>debitcard</code>)</p>
<ul>
<li>Visa Electron (<code>visa-electron</code>)</li>
<li>MasterCard Maestro (<code>mastercard-maestro</code>)</li>
</ul>
</li>
</ul>
<p>For <strong>PayPal</strong> (<code>paypal_hpp</code>), there is no specific limitation for brands.</p>
</div></section><section id="vouchers" class="resource-group"><h2 class="group-heading">Vouchers <a href="#vouchers" class="permalink">&para;</a></h2><div id="vouchers-validate-voucher" class="resource"><h3 class="resource-heading">Validate Voucher <a href="#vouchers-validate-voucher" class="permalink">&nbsp;&para;</a></h3><p>In order to provide customized discounts in the purchases, you can provide vouchers in your requests to <code>/booking</code>, so then customers can submit these vouchers and get the benefits of it’s discounts.</p>
<ul>
<li><strong>ATTENTION:</strong>
<blockquote>
<ol>
<li>Before use this resource, please contact us at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more details about voucher’s creation process and it’s usage.</li>
<li>For the purchase flow using the <code>/booking</code> endpoint, you must have created at least a single <strong>Seat Block</strong> before doing this request. For the purchase flow using the <code>/checkout</code> endpoint, the validation is executed in the same request.</li>
<li>The voucher cannot be applied for purchases using <code>paypal_hpp</code> as the payment option.</li>
</ol>
</blockquote>
</li>
</ul>
<div id="vouchers-validate-voucher-post" class="action post"><h4 class="action-heading"><div class="name">Validate Voucher</div><a href="#vouchers-validate-voucher-post" class="method post">POST</a><code class="uri">/booking/voucher</code></h4><p>We provide an endpoint where you can validate any given voucher before applying it in your request. This is useful to avoid a rejected request by our services due to an incorrect or invalid voucher.</p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object. Partners can use this parameter to provide:</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.model</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>model</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>retail</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.store</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>store</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>newstore</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.platform</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>platform</code> parameter. A specific param for each partner. Please contact ClickBus at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more commercial details.</td>
<td style="text-align:left"><code>web</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object where you provide the following parameters:</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.sessionId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Session’s ID, obtained from <strong>Session</strong>.</td>
<td style="text-align:left"><code>dnlfm8aecg2omtjaang62fvla5</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.payment_method</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The payment method, as selected by the user. It must be one of the following: <code>creditcard</code> or <code>debitcard</code></td>
<td style="text-align:left"><code>creditcard</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.installments</strong> (required)</td>
<td style="text-align:left"><em>integer</em></td>
<td style="text-align:left">The number of installments selected by the user.</td>
<td style="text-align:left"><code>1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.voucher</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The voucher code itself.</td>
<td style="text-align:left"><code>EVAL-ORIGIN</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object with a single parameter.</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.email</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The buyer’s email.</td>
<td style="text-align:left"><code>test@test.com</code></td>
</tr>
</tbody>
</table>
<p>The response for this endpoint provides the following values:</p>
<ul>
<li>
<p><code>discountValue</code> contains the discount value itself, which will be applied in the total value of the Order;</p>
</li>
<li>
<p><code>isFixedValue</code> is a boolean value, which describes if the discount value (provided at <code>discountValue</code>) is fixed (<code>true</code>) or a percentage (<code>false</code>);</p>
</li>
<li>
<p><code>serviceFeeDiscountPercentage</code> displays a value which relates to a percentage discount only for the service fee. If <code>null</code>, it means that the given voucher does not affect the service fee.</p>
</li>
</ul>
<p>For test purposes only, we offer a range of vouchers that can only be applied in the Evaluation environment, where each voucher has it’s own details, as described in the table below:</p>
<table>
<thead>
<tr>
<th style="text-align:left">VOUCHER</th>
<th style="text-align:left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">EVAL-ORIGIN</td>
<td style="text-align:left">This voucher requires that the trip must have <strong><code>sao-paulo-tiete-sp</code></strong> as the origin. It provides a discount percentage of <strong>14%</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-DESTIN</td>
<td style="text-align:left">This voucher requires that the trip must have <strong><code>santos-sp</code></strong> as the destination. It provides a discount percentage of <strong>10%</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-FIXED</td>
<td style="text-align:left">This voucher provides a fixed <strong>R$ 5.00</strong> discount value.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-MINVAL</td>
<td style="text-align:left">This voucher is only allowed for purchases with <strong>R$ 15.00</strong> as the minimum value for the entire purchase. It provides a fixed discount value of <strong>R$ 10.00</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-STORE</td>
<td style="text-align:left">This voucher requires that the purchase must be from the store <strong>ClickBus</strong>, the model <strong>Retail</strong> and the platform <strong>Web</strong>. This values must be provided in the <code>meta</code> parameter of your request. It provides a discount percentage of <strong>8%</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-EMAIL</td>
<td style="text-align:left">This voucher can only be used for a single email address at time (you can use it again by changing the email address, in the <code>request.buyer.email</code> parameter). It provides a discount percentage of <strong>5%</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-ROUND</td>
<td style="text-align:left">This voucher can only be used in round trips (trips with departure and return). It provides a discount percentage of <strong>10%</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-BUSLIN</td>
<td style="text-align:left">This voucher can only be used for trips from the bus company <code>Demon</code> (a demo bus company that exists only in out Evaluation environment). It provides a discount percentage of <strong>10%</strong>.</td>
</tr>
<tr>
<td style="text-align:left">EVAL-TESTOK</td>
<td style="text-align:left">This voucher has no restrictions, and it provides a discount percentage of <strong>10%</strong>.</td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Validate a given voucher <code>EVAL-TESTOK</code> before using it on a purchase.</p>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"retail"</span></span>,
      "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newstore"</span></span>,
      "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">payment_method</span>": <span class="hljs-value"><span class="hljs-string">"creditcard"</span></span>,
        "<span class="hljs-attribute">installments</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>,
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"dnlfm8aecg2omtjaang62fvla5"</span></span>,
        "<span class="hljs-attribute">voucher</span>": <span class="hljs-value"><span class="hljs-string">"EVAL-TESTOK"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"test@test.com"</span>
        </span>}
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
  "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">discountValue</span>": <span class="hljs-value"><span class="hljs-number">0.1</span></span>,
    "<span class="hljs-attribute">isFixedValue</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
    "<span class="hljs-attribute">serviceFeeDiscountPercentage</span>": <span class="hljs-value"><span class="hljs-literal">null</span>
  </span>}
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>A17</strong></td>
<td style="text-align:left"><em>Please provide a <code>voucher</code>.</em></td>
<td style="text-align:left">The value for the field <code>voucher</code> is missing.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A18</strong></td>
<td style="text-align:left"><em>Invalid discount.</em></td>
<td style="text-align:left">This voucher’s discount is invalid.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A19</strong></td>
<td style="text-align:left"><em>Order has not reached minimum value.</em></td>
<td style="text-align:left">The actual total value of the Order is lower than the minimum value required for this voucher’s discount.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A20</strong></td>
<td style="text-align:left"><em>Invalid discount for this email.</em></td>
<td style="text-align:left">The email in the <code>request.buyer.email</code> parameter was already applied to this voucher. Please provide another email address.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A21</strong></td>
<td style="text-align:left"><em>Invalid discount for this trip.</em></td>
<td style="text-align:left">The selected seats must be a trip from a given origin or/and destination, the same configured for this voucher.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A22</strong></td>
<td style="text-align:left"><em>Discount is valid just for round trips.</em></td>
<td style="text-align:left">This voucher can only be applied for round trips.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A23</strong></td>
<td style="text-align:left"><em>Invalid discount for this busline.</em></td>
<td style="text-align:left">The selected seats must be from a trip which belongs to the bus company configured for this voucher.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A44</strong></td>
<td style="text-align:left"><em>Unsupported payment method.</em></td>
<td style="text-align:left">The voucher code cannot be applied to the given payment method.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/booking/voucher</span></div></div></div></section><section id="booking" class="resource-group"><h2 class="group-heading">Booking <a href="#booking" class="permalink">&para;</a></h2><div id="booking-how-to-check-an-order-status" class="resource"><h3 class="resource-heading">How to Check an Order Status <a href="#booking-how-to-check-an-order-status" class="permalink">&nbsp;&para;</a></h3><p>If you wish to check the status of your Orders, please follow these steps:</p>
<ul>
<li>
<p>For every Request to <strong>Create and Order</strong>, add the optional parameter <code>api_key</code> into the <code>meta</code> object, with the value of your API Public Key, as below:</p>
<ul>
<li>Example:<pre><code class="language-json">{
    "meta": {
        "model": "Model",
        "store": "clickbus",
        "platform": "Medium",
        "api_key": "dbb648c2d6f4df1b7422b56265947f261cd80e27"
    }, {...}
}</code></pre>
</li>
</ul>
</li>
<li>
<p>For more details about the Public API Key and how to obtain your Key, please check the chapter <strong>Authentication Required</strong> <a href="#order-details-authentication-required">here</a>.</p>
</li>
<li>
<p>You can only check the Orders where this value (<code>api_key</code>) was provided in the request to <strong>Create an Order</strong>.</p>
</li>
<li>
<p>The same settings can be applied to the <code>/checkout</code> endpoint.</p>
</li>
</ul>
<hr>
</div><div id="booking-create-an-order" class="resource"><h3 class="resource-heading">Create an Order <a href="#booking-create-an-order" class="permalink">&nbsp;&para;</a></h3><p>When you have selected all the Seats, then you may proceed to create an Order, which will start the payment process.</p>
<p><strong>NOTES:</strong></p>
<ul>
<li>
<p>For every Response, please remember to keep the <code>content.localizer</code> value; this value is required for any <strong>Update Order</strong> Request;</p>
</li>
<li>
<p>Please keep in mind that you need to provide in your header the <code>PHPSESSID</code> key with the Session’s ID in the Cookie, as below:</p>
<blockquote>
<p>Cookie: PHPSESSID=g1898g0ogdlh9f3mfra2hl3el3</p>
</blockquote>
</li>
</ul>
<div id="booking-create-an-order-post" class="action post"><h4 class="action-heading"><div class="name">Create Order</div><a href="#booking-create-an-order-post" class="method post">POST</a><code class="uri">/booking</code></h4><p>To create an Order, the request’s body requires a range of data, which, for a better understanding, we will divide in the following blocks below:</p>
<ul>
<li>
<p><strong>meta</strong>, which contains the params <code>model</code>, <code>store</code> and <code>platform</code> for each Partner;</p>
</li>
<li>
<p><strong>request</strong>, which contains:</p>
<ul>
<li><strong>request.buyer</strong> contains all required information about the Buyer;
<ul>
<li><strong>request.buyer.payment</strong> contains all the Buyer’s payment data;</li>
</ul>
</li>
<li><strong>request.orderItems</strong> contains all the Seats, along with their information, added to the Order.</li>
</ul>
</li>
</ul>
<p>Each <code>/booking</code> have the same structure block except for <code>payment</code> block, which is based on each payment method (see details below):</p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object. Partners can use this parameter to provide:</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.model</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Partner’s <code>model</code> data.</td>
<td style="text-align:left"><code>retail</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.store</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Partner’s <code>store</code> data.</td>
<td style="text-align:left"><code>newstore</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.platform</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Partner’s <code>platform</code> data.</td>
<td style="text-align:left"><code>web</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.sessionId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Session’s ID, obtained from <strong>Session</strong>.</td>
<td style="text-align:left"><code>dnlfm8aecg2omtjaang62fvla5</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.voucher</strong> (optional)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Any valid voucher.</td>
<td style="text-align:left"><code>EVAL-TESTOK</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.ip</strong> (optional)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">IP address from where the request was sent.</td>
<td style="text-align:left"><code>192.168.14.1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.locale</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s locale.</td>
<td style="text-align:left"><code>pt_BR</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.firstName</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s first name.</td>
<td style="text-align:left"><code>Fulano</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.lastName</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s surname.</td>
<td style="text-align:left"><code>de Silva</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.email</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s email.</td>
<td style="text-align:left"><code>fulano@teste.com.br</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.phone</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s phone, in format <code>AABBBBBBBBB</code>, where <code>AA</code> stands for the brazilian phone’s region code, and <code>BBBBBBBBB</code> stands for the phone number.</td>
<td style="text-align:left"><code>11912345678</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.document</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s document.</td>
<td style="text-align:left"><code>123.456.789-00</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.gender</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>M</code> stands for <em>Male</em>, and <code>F</code>, for <em>Female</em>.</td>
<td style="text-align:left"><code>M</code> or <code>F</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.birthday</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s birth date, in format <code>yyyy-mm-dd</code>.</td>
<td style="text-align:left"><code>1970-01-15</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object.</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object containing all the required information according to the payment method.</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A collection of objects, which may contain at least 1 and a maximum of N to be considered valid. Each object contains:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.seatReservation</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Schedule’s ID, obtained in the <strong>Seat</strong> process.</td>
<td style="text-align:left"><code>NDAxNy0tMzkzNS0tMjAxNS0...</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container, which have:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.firstName</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s first name.</td>
<td style="text-align:left"><code>Beltrano</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.lastName</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s surname.</td>
<td style="text-align:left"><code>da Silva</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.email</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s email.</td>
<td style="text-align:left"><code>beltrano@teste.com.br</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.document</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s document.</td>
<td style="text-align:left"><code>12345678900</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.gender</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>M</code> stands for <em>Male</em>, and <code>F</code>, for <em>Female</em>.</td>
<td style="text-align:left"><code>M</code> or <code>F</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.birthday</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s birth date, in format <code>yyyy-mm-dd</code>.</td>
<td style="text-align:left"><code>1970-01-15</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.seat</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>seat</code> name, obtained on <strong>Seat</strong> proccess.</td>
<td style="text-align:left"><code>08</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.passenger.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object.</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.products</strong> (optional)</td>
<td style="text-align:left"><em>array</em></td>
<td style="text-align:left">A collection of objects, which may have:</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.products.uuid</strong> (optional)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"></td>
<td style="text-align:left"><code>abcd123s</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.orderItems.products.quantity</strong> (optional)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left"></td>
<td style="text-align:left"><code>{}</code></td>
</tr>
</tbody>
</table>
<p>The <code>/booking</code> request have 4 valid options to proceed to the payment:</p>
<ul>
<li>
<p><strong>Credit Card using the card’s data</strong></p>
</li>
<li>
<p><strong>Credit Card using Mercado Pago tokens</strong></p>
</li>
<li>
<p><strong>Debit Card</strong></p>
</li>
<li>
<p><strong>PayPal</strong></p>
</li>
</ul>
<p>Based on each of the 4 valid payment options:</p>
<p><strong>1) Credit Card using the card’s data</strong></p>
<p>For this option, it’s required to provide the customer’s credit card data in your request, which we’ll submit it to the payment gateway and handle the response through our services.</p>
<p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.method</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment type: <code>creditcard</code>.</td>
<td style="text-align:left"><code>creditcard</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.currency</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment currency.</td>
<td style="text-align:left"><code>BRL</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.total</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Sum of the values of all items in the Order. The first two digits from right to left represent the decimal part of the value. So, for instance, <code>1400</code> means <code>14.00</code>, and <code>6050</code> means <code>60.50</code>.</td>
<td style="text-align:left"><code>1400</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.installment</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Indicates on how many installments the payment is settled.</td>
<td style="text-align:left"><code>1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object which requires the following data:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.card</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card’s number.</td>
<td style="text-align:left"><code>1234567812345678</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.code</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card’s security code.</td>
<td style="text-align:left"><code>065</code></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.buyer.payment.meta.name">request.buyer.payment.meta.name</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card owner’s name, in all upper case.</td>
<td style="text-align:left"><code>CICRANO SILVA</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.expiration</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card’s expiration date, in format <code>yyyy-mm</code>.</td>
<td style="text-align:left"><code>2016-02</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.zipcode</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card owner’s zip code, with only digits.</td>
<td style="text-align:left"><code>12345678</code></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Create an Order with the following data:</p>
<ul>
<li>
<p>Created from a <code>store</code> called <em>NewWorld</em>;</p>
</li>
<li>
<p>Selected 1 Seat for <em>Fulano da Silva</em> and 1 Seat for <em>Beltrano da Silva</em> in the same Order;</p>
</li>
<li>
<p>Each item costs R$ 12.35, so the <code>request.buyer.payment.total</code> value is <em>2470</em>;</p>
</li>
<li>
<p>The payment is settled to a single <code>installment</code>, using <code>creditcard</code>.</p>
</li>
</ul>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"oeccq3hugiknuj5f2luvvruvj7"</span></span>,
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Cicrano"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"cicrano@teste.com.br"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12934567890"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.456.789-00"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"creditcard"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">2470</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"1234567887654321"</span></span>,
                    "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"093"</span></span>,
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"DELTRANO SILVA"</span></span>,
                    "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"2022-03"</span></span>,
                    "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"12345678"</span>
                </span>}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">orderItems</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seatReservation</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMS0wMSAwMTowMC0tOS0tNDMyMS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"fulano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.123.123-01"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
                    "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"11"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">"abcd123s"</span></span>,
                    "<span class="hljs-attribute">quantity</span>": <span class="hljs-value"><span class="hljs-number">1</span>
                </span>}]
            </span>},
            {
                "<span class="hljs-attribute">seatReservation</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMS0wMSAwMTowMC0tOS0tNDMyMS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Beltrano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"beltrano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"987.654.321-99"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1942-10-17"</span></span>,
                    "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"02"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">"abcd123s"</span></span>,
                    "<span class="hljs-attribute">quantity</span>": <span class="hljs-value"><span class="hljs-number">1</span>
                </span>}]
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>The following Request, with all correct parameters, will return a <em>201</em> Response, with all details from the Order, as the example below.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1062"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"5EBP2M"</span></span>,
        "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.creditcard"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"6.3"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"4111-XXXX-XXXX-1111"</span></span>,
                "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"XXX"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"NOME DE TESTE DA COMPRA"</span></span>,
                "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"XXXX-XX-XX"</span></span>,
                "<span class="hljs-attribute">postbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">callbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[{
            "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"4321"</span></span>,
            "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"KPFHNB"</span></span>,
            "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"6462297"</span></span>,
            "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
            "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1228"</span></span>,
            "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
            "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"42"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"42"</span></span>,
                "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span></span>,
                "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Nome Passageiro"</span></span>,
                "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"passageiro@teste.com.br"</span></span>,
                "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span>
        </span>}]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-23"</span>
    </span>}
</span>}</code></pre>
<p><strong>2) Credit Card using Mercado Pago tokens</strong></p>
<p>This payment method is available only for credit card. To use this payment method, it’s requires to obtain a token trough the MercadoPago services and then provide it in your request to our services, along with the credit card brand, instead of sending the credit card data right to our services.</p>
<ul>
<li><strong>ATTENTION:</strong>
<blockquote>
<ol>
<li>We provide a JavaScript library to make the token generation with ease. This library is maintained by ClickBus and you can check the instructions on how to install and use it through <a href="https://github.com/RocketBus/clickbus-payments.js/wiki">this link</a>. If you have any questions related to this library, please contact us at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> and we’ll assist you in any questions.</li>
<li>This payment option restricts the installments options. It does not accept installments for <code>7</code>, <code>8</code> nor <code>11</code> as valid options. If you provide one of these options in your requests, it will be rejected with the error message <code>Payments in this installment amount are not processed</code>, so we suggest you to avoid offer these installment options if you’re using this payment option.</li>
</ol>
</blockquote>
</li>
</ul>
<p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.method</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment type: <code>creditcard</code>.</td>
<td style="text-align:left"><code>creditcard</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.currency</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment currency.</td>
<td style="text-align:left"><code>BRL</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.total</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Sum of the values of all items in the Order. The first two digits from right to left represent the decimal part of the value. So, for instance, <code>1400</code> means <code>14.00</code>, and <code>6050</code> means <code>60.50</code>.</td>
<td style="text-align:left"><code>1400</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.installment</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Indicates on how many installments the payment is settled.</td>
<td style="text-align:left"><code>1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object which requires the following data:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.token</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Token generated through the Mercado Pago JS library.</td>
<td style="text-align:left"><code>cd844cde3fb6269</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.card_brand</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card’s brand.</td>
<td style="text-align:left">Check the list of available card brands at <a href="/#payments-supported-card-brands">Supported Card Brands</a>.</td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.zipcode</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Credit card owner’s zip code, with only digits.</td>
<td style="text-align:left"><code>12345678</code></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Create an Order with the following data:</p>
<ul>
<li>
<p>Created from a <code>store</code> called <em>NewWorld</em>;</p>
</li>
<li>
<p>Selected 1 Seat for <em>Cicrano da Silva</em> and 1 Seat for <em>Deltrano da Silva</em> in the same Order;</p>
</li>
<li>
<p>Each item costs R$ 12.35, so the <code>request.buyer.payment.total</code> value is <em>2470</em>;</p>
</li>
<li>
<p>The payment is settled to a single <code>installment</code>, using <code>creditcard</code> and providing both token and credit card brand (in this example, Visa).</p>
</li>
</ul>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"oeccq3hugiknuj5f2luvvruvj7"</span></span>,
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Cicrano"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"cicrano@teste.com.br"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12934567890"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.456.789-00"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"creditcard"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">2470</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">token</span>": <span class="hljs-value"><span class="hljs-string">"cd844c9fd6e300c7a235880de3fb6269"</span></span>,
                    "<span class="hljs-attribute">card_brand</span>": <span class="hljs-value"><span class="hljs-string">"visa"</span></span>,
                    "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"12345678"</span>
                </span>}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">orderItems</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seatReservation</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMS0wMSAwMTowMC0tOS0tNDMyMS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Cicrano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"fulano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12312312301"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
                    "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"11"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">"abcd123s"</span></span>,
                    "<span class="hljs-attribute">quantity</span>": <span class="hljs-value"><span class="hljs-number">1</span>
                </span>}]
            </span>},
            {
                "<span class="hljs-attribute">seatReservation</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMS0wMSAwMTowMC0tOS0tNDMyMS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Deltrano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"beltrano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"98765432199"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1942-10-17"</span></span>,
                    "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"02"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">"abcd123s"</span></span>,
                    "<span class="hljs-attribute">quantity</span>": <span class="hljs-value"><span class="hljs-number">1</span>
                </span>}]
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>The following Request, with all correct parameters, will return a <em>201</em> Response, with all details from the Order, as the example below.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"655503"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"2PRMUT"</span></span>,
        "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.creditcard.mercadopago"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"3.249"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">postbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">callbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"2528"</span></span>,
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"OCYNQB"</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"0686102"</span></span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1057494"</span></span>,
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3097"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-12-12"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"05:10"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3535"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-12-12"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"05:29"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"11"</span></span>,
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"11"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span></span>,
                    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Cicrano da Silva"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"cicrano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"1236547890"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span>
            </span>},
            {
                "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"2528"</span></span>,
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"OCYNQB"</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"0686102"</span></span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1057494"</span></span>,
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3097"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-12-12"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"05:10"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3535"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-12-12"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"05:29"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"02"</span></span>,
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"02"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span></span>,
                    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Deltrano da Silva"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"deltrano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"0987654321"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span>
            </span>}
        ]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-11-10"</span>
    </span>}
</span>}</code></pre>
<p><strong>3) Debit Card</strong></p>
<p>This payment option will require that your application redirects the user to the given <code>continuePaymentURL</code> to proceed with the payment, also that the user must have the required plugins correctly installed in it’s browser, depending on which bank corporation it may uses.</p>
<p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.method</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment type: <code>debitcard</code>.</td>
<td style="text-align:left"><code>debitcard</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.currency</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment currency.</td>
<td style="text-align:left"><code>BRL</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.total</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Sum of the values of all items in the Order. The first two digits from right to left represent the decimal part of the value. So, for instance, <code>1400</code> means <code>14.00</code>, and <code>6050</code> means <code>60.50</code>.</td>
<td style="text-align:left"><code>1400</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.installment</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Indicates on how many installments the payment is settled.</td>
<td style="text-align:left"><code>1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object which requires the following data:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.card</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Debit card’s number.</td>
<td style="text-align:left"><code>1234567812345678</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.code</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Debit card’s security code.</td>
<td style="text-align:left"><code>065</code></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.buyer.payment.meta.name">request.buyer.payment.meta.name</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Debit card owner’s name, in all upper case.</td>
<td style="text-align:left"><code>CICRANO SILVA</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.expiration</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Debit card’s expiration date, in format <code>yyyy-mm</code>.</td>
<td style="text-align:left"><code>2016-02</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta.zipcode</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Debit card owner’s zip code, with only digits.</td>
<td style="text-align:left"><code>12345678</code></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Create an Order with the following data:</p>
<ul>
<li>
<p>Created from a <code>store</code> called <em>NewWorld</em>;</p>
</li>
<li>
<p>Selected 1 Seat for <em>Fulano da Silva</em>;</p>
</li>
<li>
<p>Each item costs R$ 22.50, so the <code>request.buyer.payment.total</code> value is <em>2250</em>;</p>
</li>
<li>
<p>The payment is settled to a single <code>installment</code>, using <code>debitcard</code>.</p>
</li>
</ul>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"oeccq3hugiknuj5f2luvvruvj7"</span></span>,
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Cicrano"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"cicrano@teste.com.br"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12934567890"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.456.789-00"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"debitcard"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">2250</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"1234567887654321"</span></span>,
                    "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"093"</span></span>,
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"DELTRANO SILVA"</span></span>,
                    "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"2022-03"</span></span>,
                    "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"12345678"</span>
                </span>}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">orderItems</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seatReservation</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMS0wMSAwMTowMC0tOS0tNDMyMS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"fulano@teste.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.123.123-01"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
                    "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"11"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">"abcd123s"</span></span>,
                    "<span class="hljs-attribute">quantity</span>": <span class="hljs-value"><span class="hljs-number">1</span>
                </span>}]
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p><strong>NOTICE:</strong> Attention to <code>content.payment.meta.continuePaymentURL</code>, which contains the URL to redirect after payment.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1064"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"clarify_debit_card_payment_pending"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"EXQMD5"</span></span>,
        "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.debitcard"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"6.3"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"clarify_debit_card_payment_pending"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">continuePaymentURL</span>": <span class="hljs-value"><span class="hljs-string">"https://qasecommerce.cielo.com.br/web/index.cbmp?id=43b07288a66a8e2fd86bb693d4af426b"</span></span>,
                "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"4111-XXXX-XXXX-1111"</span></span>,
                "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"XXX"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"NOME SOBRENOME"</span></span>,
                "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"XXXX-XX-XX"</span></span>,
                "<span class="hljs-attribute">postbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">callbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[{
            "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"2311"</span></span>,
            "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
            "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1230"</span></span>,
            "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
            "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"02:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"12:15"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"14"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"14"</span></span>,
                "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span></span>,
                "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Charles Bukowski"</span></span>,
                "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"teste@clickbus.com.br"</span></span>,
                "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span>
        </span>}]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-23"</span>
    </span>}
</span>}</code></pre>
<p><strong>4) PayPal</strong></p>
<p>This payment method provides a redirect link in the response body, provided after PayPal’s request.</p>
<p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.method</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment type: <code>paypal_hpp</code>.</td>
<td style="text-align:left"><code>paypal_hpp</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.currency</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Payment currency.</td>
<td style="text-align:left"><code>BRL</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.total</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Sum of the values of all items in the Order. The first two digits from right to left represent the decimal part of the value. So, for instance, <code>1400</code> means <code>14.00</code>, and <code>6050</code> means <code>60.50</code>.</td>
<td style="text-align:left"><code>1400</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.installment</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">Indicates on how many installments the payment is settled.</td>
<td style="text-align:left"><code>1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object.</td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<p><strong>EXAMPLE</strong></p>
<p>Create an Order with the following data:</p>
<ul>
<li>
<p>Created from a <code>store</code> called <em>NewWorld</em>;</p>
</li>
<li>
<p>Selected 1 Seat for <em>Charles Bukowski</em>;</p>
</li>
<li>
<p>Each item costs R$ 6.30, so the <code>request.buyer.payment.total</code> value is <em>630</em>;</p>
</li>
<li>
<p>The payment is settled to a single <code>installment</code>, using <code>paypal_hpp</code>.</p>
</li>
</ul>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">sessionId</span>": <span class="hljs-value"><span class="hljs-string">"oeccq3hugiknuj5f2luvvruvj7"</span></span>,
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Cicrano"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"cicrano@teste.com.br"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12934567890"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.456.789-00"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"paypal_hpp"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">630</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">orderItems</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seatReservation</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wMS0wMSAwMTowMC0tOS0tNDMyMS0tMS0tMS0tMS0tQ09OVg=="</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Charles"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"Bukowski"</span></span>,
                    "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"teste@novo.com.br"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"123.123.123-01"</span></span>,
                    "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
                    "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-05-17"</span></span>,
                    "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"26"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[{
                    "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">"abcd123s"</span></span>,
                    "<span class="hljs-attribute">quantity</span>": <span class="hljs-value"><span class="hljs-number">1</span>
                </span>}]
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"foo"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"newworld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"bar"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1063"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_pending"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"GXGTWNM6A"</span></span>,
        "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.paypal_hpp"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"6.3"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_pending"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">postUrl</span>": <span class="hljs-value"><span class="hljs-string">"https://www.paypal.com/cgi-bin/webscr"</span></span>,
                "<span class="hljs-attribute">postData</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">cmd</span>": <span class="hljs-value"><span class="hljs-string">"_xclick"</span></span>,
                    "<span class="hljs-attribute">business</span>": <span class="hljs-value"><span class="hljs-string">"contato@clickbus.com.br"</span></span>,
                    "<span class="hljs-attribute">item_name</span>": <span class="hljs-value"><span class="hljs-string">"Passagem de onibus - Clickbus"</span></span>,
                    "<span class="hljs-attribute">amount</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span></span>,
                    "<span class="hljs-attribute">currency_code</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">button_subtype</span>": <span class="hljs-value"><span class="hljs-string">"services"</span></span>,
                    "<span class="hljs-attribute">bn</span>": <span class="hljs-value"><span class="hljs-string">"PP-BuyNowBF:btn_buynowCC_LG.gif:NonHosted"</span></span>,
                    "<span class="hljs-attribute">invoice</span>": <span class="hljs-value"><span class="hljs-string">"1063"</span></span>,
                    "<span class="hljs-attribute">custom</span>": <span class="hljs-value"><span class="hljs-string">"pt"</span></span>,
                    "<span class="hljs-attribute">return</span>": <span class="hljs-value"><span class="hljs-string">"http://api-evaluation.clickbus.com.br/api/v1/booking/payment?orderId=1063"</span></span>,
                    "<span class="hljs-attribute">lc</span>": <span class="hljs-value"><span class="hljs-string">"BR"</span>
                </span>}</span>,
                "<span class="hljs-attribute">postbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">callbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[{
            "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"4321"</span></span>,
            "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
            "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1229"</span></span>,
            "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
            "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"29"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"29"</span></span>,
                "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span></span>,
                "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Charles Bukowski"</span></span>,
                "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"teste@teste.com.br"</span></span>,
                "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span>
        </span>}]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-23"</span>
    </span>}
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>A1</strong></td>
<td style="text-align:left"><em>Please provide a <code>sessionId</code>.</em></td>
<td style="text-align:left">The parameter <code>sessionId</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A2</strong></td>
<td style="text-align:left"><em>The given <code>sessionId</code> has expired.</em></td>
<td style="text-align:left">The value for <code>sessionId</code> has expired and is no longer valid. Please request a new value in <strong>Session</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A3</strong></td>
<td style="text-align:left"><em>Please provide the <code>seatReservation</code> for all your Order Items.</em></td>
<td style="text-align:left">One or more of your Items in the Order does not have the <code>seatReservation</code> parameter.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A4</strong></td>
<td style="text-align:left"><em>Missing parameters in your payment data.</em></td>
<td style="text-align:left">One or more of the following  <code>buyer</code> parameters are missing: <code>name</code>, <code>card</code>, <code>code</code>, <code>zipcode</code> or <code>expiration</code>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A5</strong></td>
<td style="text-align:left"><em>The expiration data is invalid or incorrect.</em></td>
<td style="text-align:left">The expiration data provided in the card is incorrect or invalid.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A6</strong></td>
<td style="text-align:left"><em>Please provide the <code>installment</code> for the payment data.</em></td>
<td style="text-align:left">The parameter <code>installment</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A7</strong></td>
<td style="text-align:left"><em>The Order Cart is empty.</em></td>
<td style="text-align:left">You have tried to proceed to Checkout without creating any <strong>Seat Block</strong>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A12</strong></td>
<td style="text-align:left"><em>There was a problem with your Order. Please contact us for more details.</em></td>
<td style="text-align:left">Your Order could not be completed. Please contact us at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for support and details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A13</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">An internal error ocurred at the conclusion of your Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A14</strong></td>
<td style="text-align:left"><em>Application Error</em></td>
<td style="text-align:left">An error occurred before send the success email of your Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A15</strong></td>
<td style="text-align:left"><em>An unexpected issue happened in your Request. Please contact us for more details.</em></td>
<td style="text-align:left">Troubles while requesting data from the booking engine. Please contact us at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for support and details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A16</strong></td>
<td style="text-align:left"><em>The number of passengers does not match with the data already informed.</em></td>
<td style="text-align:left">There is a difference between the amount of seats provided in the request and the the amount of seats that were reserved previously at the Seat Block. Please contact us for more details about the subject and how to troubleshoot.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A27</strong></td>
<td style="text-align:left"><em>Inconsistencies were found. Please check your Payment Data.</em></td>
<td style="text-align:left">One or more values provided for the payment data are invalid or incorrect. Please check these values before send a new request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A28</strong></td>
<td style="text-align:left"><em>The given credit card brand is not supported by the payment method.</em></td>
<td style="text-align:left">The card brand is not supported by our payment methods. Please contact us or check the <a href="#payments">Payments</a> resource to verify if the given card brand is declared in the supported list.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A29</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">It’s required to authorize this purchase with the card issuer.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A30</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment was not authorized. We suggest you to check the card information before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A31</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment was not authorized. We suggest you to check the card information before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A32</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">A problem ocurred while authorizing the purchase. Please check the card data or contact us for more details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A33</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment was not authorized. We suggest you to check the card information before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A34</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment could not be processed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A35</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Please check if the card is ok or if it still requires it’s activation before proceed with your payment.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A36</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">It was not possible to process the purchase.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A37</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">You have already made a purchase with the same value. If you need to pay the same amount again, please, use another card or payment method.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A38</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Your payment was rejected. We recommend you to pay with other payment methods available.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A39</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">There is no credit available for this credit card.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A40</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Payments in this installment amount are not processed. Please, choose other installment value.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A41</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">You have reached limit of tries. Please, use another card or payment method.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A42</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment could not be processed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A43</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Payment not authorized. Please, check your credit card information.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/booking</span></div></div></div><div id="booking-credit-debit-card-rejection" class="resource"><h3 class="resource-heading">Credit/Debit Card Rejection <a href="#booking-credit-debit-card-rejection" class="permalink">&nbsp;&para;</a></h3><p>If, for any circunstances listed above, the request detects any kind of problem related to the given credit/debit card, as below:</p>
<ul>
<li>
<p>The maximum credit limit was reached;</p>
</li>
<li>
<p>The credit, for any reason, is blocked;</p>
</li>
<li>
<p>There is an error with any of the credit/debit card’s data.</p>
</li>
</ul>
<p>If this happens, then the API will return a <em>400</em> Response with the following content:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"Credit card was rejected."</span>
</span>}</code></pre>
<hr>
</div><div id="booking-cancel-an-order" class="resource"><h3 class="resource-heading">Cancel an Order <a href="#booking-cancel-an-order" class="permalink">&nbsp;&para;</a></h3><p>This Request aims to update an Order Status to <code>order_canceled</code>, which means that the Order has been sucessfully canceled.</p>
<p><strong>ATTENTION:</strong></p>
<ol>
<li>Once an Order status is settled to <code>order_canceled</code>, the action is irreversible;</li>
<li>You can cancel an Order until <strong>3 hours</strong> before the departure time.</li>
</ol>
<div id="booking-cancel-an-order-put" class="action put"><h4 class="action-heading"><div class="name">Cancel an Order</div><a href="#booking-cancel-an-order-put" class="method put">PUT</a><code class="uri">/booking</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>request</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.localizer</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">A localizer which points to your Order, obtained while creating an <strong>Order</strong>.</td>
<td style="text-align:left"><code>53347e09aee47</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.status</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><strong>Cancel</strong> status.</td>
<td style="text-align:left"><code>order_canceled</code></td>
</tr>
</tbody>
</table>
<p>The given request returns a Response <em>201</em>, with all Order details in the Response body:</p>
<p><strong>EXAMPLE</strong></p>
<p>Canceling an Order, which is related to the <code>RXNHIN</code> localizer.</p>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
      "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"RXNHIN"</span></span>,
      "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_canceled"</span>
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"model"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"store"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"platform"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1059"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"cancelation_booking_engine_confirmation_successful"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"RXNHIN"</span></span>,
        "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.creditcard"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"cancelation_booking_engine_confirmation_successful"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"1234567887654321"</span></span>,
                "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"093"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"DELTRANO SILVA"</span></span>,
                "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"2022-03"</span></span>,
                "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"12345678"</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[{
            "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"4322"</span></span>,
            "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"PPNPNT"</span></span>,
            "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
            "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1225"</span></span>,
            "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
            "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                    "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                    "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                    "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                </span>}
            </span>}</span>,
            "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"07"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"07"</span></span>,
                "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span></span>,
                "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
                "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"fulano@teste.com.br"</span></span>,
                "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
            </span>}</span>,
            "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
            "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"6.30"</span>
        </span>}]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-23"</span>
    </span>}
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>A8</strong></td>
<td style="text-align:left"><em>Please provide a <code>localizer</code>.</em></td>
<td style="text-align:left">The parameter <code>localizer</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A9</strong></td>
<td style="text-align:left"><em>The Request Status is invalid.</em></td>
<td style="text-align:left">The value for the <code>status</code> is invalid. Use <code>order_canceled</code>.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A10</strong></td>
<td style="text-align:left"><em>The given localizer is invalid.</em></td>
<td style="text-align:left">The value for <code>localizer</code> is invalid or could not be found.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A24</strong></td>
<td style="text-align:left"><em>The cancelation request failed. Please check the Order status for more details.</em></td>
<td style="text-align:left">The request for cancelation of the given Order was started but could not achieve success. Please contact us for more details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A25</strong></td>
<td style="text-align:left"><em>The Order Cancelation Workflow can’t be executed for the given Order. Please check the Order Status for more info.</em></td>
<td style="text-align:left">The actual Order status does not allow to proceed to it’s cancelation and your application should not repeat this request. Please contact us for more details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>A26</strong></td>
<td style="text-align:left"><em>Server Error</em></td>
<td style="text-align:left">The Server encountered a temporary error and could not complete your request.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method put">PUT</span>&nbsp;<span class="uri"><span class="hostname"></span>/booking</span></div></div></div></section><section id="checkout" class="resource-group"><h2 class="group-heading">Checkout <a href="#checkout" class="permalink">&para;</a></h2><p>The <code>/checkout</code> endpoint allows you to pick the seats and create the Order in the same request.</p>
<p>As opposed to <code>/booking</code>, <code>/checkout</code> <strong>does not need previous requests to <code>/seat-block</code>.</strong> Instead, you provide the <code>scheduleId</code> for each trip (departure, return, or even only departure or only return) along with the minimum required data for each passenger.</p>
<ul>
<li><strong>ATTENTION:</strong>
<blockquote>
<p>This resource provides an easier approach for creating Orders, once that you don’t need to request <code>/seat-block</code> for each seat. However, there are chances that one or more of the desired seats are unavailable.</p>
</blockquote>
</li>
</ul>
<p><strong>NOTES:</strong></p>
<ul>
<li>
<p>For every Response, please remember to keep the <code>content.localizer</code> value; this value is required for any <strong>Update Order</strong> Request;</p>
</li>
<li>
<p>Please keep in mind that you need to provide in your header the <code>PHPSESSID</code> key with the Session’s ID in the Cookie, as below:</p>
<blockquote>
<p>Cookie: PHPSESSID=g1898g0ogdlh9f3mfra2hl3el3</p>
</blockquote>
</li>
</ul>
<div id="checkout-create-an-order" class="resource"><h3 class="resource-heading">Create an Order <a href="#checkout-create-an-order" class="permalink">&nbsp;&para;</a></h3><div id="checkout-create-an-order-post" class="action post"><h4 class="action-heading"><div class="name">Create an Order</div><a href="#checkout-create-an-order-post" class="method post">POST</a><code class="uri">/checkout</code></h4><p>To create an Order, the request’s body requires a range of data, which, for a better understanding, we will divide in the following blocks below:</p>
<ul>
<li>
<p><strong>meta</strong>, which contains the params <code>model</code>, <code>store</code> and <code>platform</code> for each Partner;</p>
</li>
<li>
<p><strong>request</strong>, which contains:</p>
<ul>
<li><strong>request.buyer</strong> contains all required information about the Buyer;
<ul>
<li><strong>request.buyer.payment</strong> contains all the Buyer’s payment data;</li>
</ul>
</li>
<li><strong>request.orderItems</strong> contains all the Seats, along with their information, added to the Order.</li>
</ul>
</li>
</ul>
<p>Each <code>/checkout</code> have the same structure block except for <code>payment</code> block, which is based on each payment method (see details below):</p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object. Partners can use this parameter to provide:</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.model</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Partner’s <code>model</code> data.</td>
<td style="text-align:left"><code>retail</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.store</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Partner’s <code>store</code> data.</td>
<td style="text-align:left"><code>newstore</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>meta.platform</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Partner’s <code>platform</code> data.</td>
<td style="text-align:left"><code>web</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.voucher</strong> (optional)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Any valid voucher.</td>
<td style="text-align:left"><code>EVAL-TESTOK</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.ip</strong> (optional)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">IP address from where the request was sent.</td>
<td style="text-align:left"><code>192.168.14.1</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">A container which requires:</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.locale</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s locale.</td>
<td style="text-align:left"><code>pt_BR</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.firstName</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s first name.</td>
<td style="text-align:left"><code>Fulano</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.lastName</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s surname.</td>
<td style="text-align:left"><code>de Silva</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.email</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s email.</td>
<td style="text-align:left"><code>fulano@teste.com.br</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.phone</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s phone, in format <code>AABBBBBBBBB</code>, where <code>AA</code> stands for the brazilian phone’s region code, and <code>BBBBBBBBB</code> stands for the phone number.</td>
<td style="text-align:left"><code>11912345678</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.document</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s document.</td>
<td style="text-align:left"><code>123.456.789-00</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.gender</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left"><code>M</code> stands for <em>Male</em>, and <code>F</code>, for <em>Female</em>.</td>
<td style="text-align:left"><code>M</code> or <code>F</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.birthday</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Buyer’s birth date, in format <code>yyyy-mm-dd</code>.</td>
<td style="text-align:left"><code>1970-01-15</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.meta</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An empty object.</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.buyer.payment</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object containing all the required information according to the payment method.</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.items</strong> (required)</td>
<td style="text-align:left"><em>array</em></td>
<td style="text-align:left">A collection of objects, which may contain at least 1 and a maximum of N to be considered valid. Each object contains:</td>
<td style="text-align:left"><code>[]</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.items.seat</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The seat number for a single passenger.</td>
<td style="text-align:left"><code>13</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.items.passenger</strong> (required)</td>
<td style="text-align:left"><em>object</em></td>
<td style="text-align:left">An object, which have:</td>
<td style="text-align:left"><code>{}</code></td>
</tr>
<tr>
<td style="text-align:left"><strong><a href="http://request.items.passenger.name">request.items.passenger.name</a></strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s full name.</td>
<td style="text-align:left"><code>Fulano da Silva</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.items.passenger.document</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s document.</td>
<td style="text-align:left"><code>12345678900</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.items.passenger.documentType</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">Passenger’s document type. It must be a document with the passenger’s picture.</td>
<td style="text-align:left"><code>rg</code></td>
</tr>
<tr>
<td style="text-align:left"><strong>request.items.scheduleId</strong> (required)</td>
<td style="text-align:left"><em>string</em></td>
<td style="text-align:left">The <code>scheduleId</code> for one of the desired trips (departure or return).</td>
<td style="text-align:left"><code>NDAxNy0tMzkzNS0tMjAxNS0wNS0...</code></td>
</tr>
</tbody>
</table>
<p>As the <code>/booking</code> endpoint, the <code>/checkout</code> request support the same 4 valid payment options:</p>
<ul>
<li>
<p><strong>Credit Card using the card’s data</strong></p>
</li>
<li>
<p><strong>Credit Card using MercadoPago tokens</strong></p>
</li>
<li>
<p><strong>Debit Card</strong></p>
</li>
<li>
<p><strong>PayPal</strong></p>
</li>
</ul>
<p><strong>1) Credit Card using the card’s data</strong></p>
<p><strong>PARAMETERS</strong></p>
<p>The values are the same for the <code>payment</code> block, as described in the <a href="#booking-create-an-order"><code>/booking</code> endpoint</a>.</p>
<p><strong>EXAMPLE</strong></p>
<p>Create an Order with the following data:</p>
<ul>
<li>
<p>Created from a <code>store</code> called <em>NewWorld</em>;</p>
</li>
<li>
<p>Selected 1 Seat (number <em>13</em>) on departure for <em>Fulano da Silva</em> and 1 Seat (number <em>17</em>) on return for the same passenger;</p>
</li>
<li>
<p>Each item costs R$ 12.35, so the <code>request.buyer.payment.total</code> value is <em>2470</em>;</p>
</li>
<li>
<p>The payment is settled to a single <code>installment</code>, using <code>creditcard</code>.</p>
</li>
</ul>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Retail"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"NewWorld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"Web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Clickbus"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"Test"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"test-orders@clickbus.com"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12098765432"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"176.768.826-13"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-04-18"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"creditcard"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">2470</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"4111111111111111"</span></span>,
                    "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"737"</span></span>,
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"FULANO SILVA"</span></span>,
                    "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"2017-07"</span></span>,
                    "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"04104080"</span>
                </span>}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"13"</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12.345.678-9"</span></span>,
                    "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span>
                </span>}</span>,
                "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wNS0yNSAyMDoxMC0tOS0tMDAxMy0tMS0tMS0tMS0tQ09OVi0tNjYuMzY="</span>
            </span>},
            {
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"17"</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12.345.678-9"</span></span>,
                    "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span>
                </span>}</span>,
                "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"MzkzNS0tNDAxNy0tMjAxNS0wNS0yNSAwMzo1MC0tOS0tMDA4Mi0tMS0tMS0tMS0tQ09OVi0tMTA="</span>
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>The following Request, with all correct parameters, will return a <em>201</em> Response, with all details from the Order, as the example below.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Retail"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"ClickBus"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"Web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1062"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"5EBP2M"</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.creditcard"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"2470"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"4111-XXXX-XXXX-1111"</span></span>,
                "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"XXX"</span></span>,
                "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"FULANO SILVA"</span></span>,
                "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"XXXX-XX-XX"</span></span>,
                "<span class="hljs-attribute">postbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">callbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"4321"</span></span>,
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"KPFHNB"</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"6462297"</span></span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1228"</span></span>,
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"13"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span></span>,
                    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span>
            </span>},
            {
                "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"7340"</span></span>,
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"ZXSMTM"</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"5762464"</span></span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1229"</span></span>,
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"17"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span></span>,
                    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span>
            </span>}
        ]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-23"</span>
    </span>}
</span>}</code></pre>
<p><strong>2) Credit Card using MercadoPago tokens</strong></p>
<p><strong>PARAMETERS</strong></p>
<p>The values are the same for the <code>payment</code> block, as described in the <a href="#booking-create-an-order"><code>/booking</code> endpoint</a>.</p>
<p><strong>EXAMPLE</strong></p>
<p>Create an Order with the following data:</p>
<ul>
<li>
<p>Created from a <code>store</code> called <em>NewWorld</em>;</p>
</li>
<li>
<p>Selected 1 Seat (number <em>13</em>) on departure for <em>Fulano da Silva</em> and 1 Seat (number <em>17</em>) on return for the same passenger;</p>
</li>
<li>
<p>Each item costs R$ 12.35, so the <code>request.buyer.payment.total</code> value is <em>2470</em>;</p>
</li>
<li>
<p>The payment is settled to a single <code>installment</code>, using <code>creditcard</code> through the MercadoPago payment gateway, providing both token and card brand.</p>
</li>
</ul>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Retail"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"NewWorld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"Web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Clickbus"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"Test"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"test-orders@clickbus.com"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12098765432"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"176.768.826-13"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-04-18"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"creditcard"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">2470</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">token</span>": <span class="hljs-value"><span class="hljs-string">"cd844c9fd6e300c7a235880de3fb6269"</span></span>,
                    "<span class="hljs-attribute">card_brand</span>": <span class="hljs-value"><span class="hljs-string">"visa"</span></span>,
                    "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"12345678"</span>
                </span>}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"13"</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12.345.678-9"</span></span>,
                    "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span>
                </span>}</span>,
                "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"NDAxNy0tMzkzNS0tMjAxNS0wNS0yNSAyMDoxMC0tOS0tMDAxMy0tMS0tMS0tMS0tQ09OVi0tNjYuMzY="</span>
            </span>},
            {
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"17"</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12.345.678-9"</span></span>,
                    "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span>
                </span>}</span>,
                "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"MzkzNS0tNDAxNy0tMjAxNS0wNS0yNSAwMzo1MC0tOS0tMDA4Mi0tMS0tMS0tMS0tQ09OVi0tMTA="</span>
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>The following Request, with all correct parameters, will return a <em>201</em> Response, with all details from the Order, as the example below.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Retail"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"ClickBus"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"Web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-string">"1062"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"5EBP2M"</span></span>,
        "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"payment.creditcard.mercadopago"</span></span>,
            "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-string">"2470"</span></span>,
            "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">postbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">callbackUrl</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"4321"</span></span>,
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"KPFHNB"</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"6462297"</span></span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1228"</span></span>,
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"13"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span></span>,
                    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span>
            </span>},
            {
                "<span class="hljs-attribute">trip_id</span>": <span class="hljs-value"><span class="hljs-string">"7340"</span></span>,
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"ZXSMTM"</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"5762464"</span></span>,
                "<span class="hljs-attribute">context</span>": <span class="hljs-value"><span class="hljs-string">"departure"</span></span>,
                "<span class="hljs-attribute">order_item</span>": <span class="hljs-value"><span class="hljs-string">"1229"</span></span>,
                "<span class="hljs-attribute">serviceClass</span>": <span class="hljs-value"><span class="hljs-string">"Convencional"</span></span>,
                "<span class="hljs-attribute">departure</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"4017"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"01:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">arrival</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">waypoint</span>": <span class="hljs-value"><span class="hljs-string">"3935"</span></span>,
                    "<span class="hljs-attribute">schedule</span>": <span class="hljs-value">{
                        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2015-02-11"</span></span>,
                        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"03:00"</span></span>,
                        "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span>
                    </span>}
                </span>}</span>,
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"17"</span></span>,
                    "<span class="hljs-attribute">price</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span></span>,
                    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"reserved"</span></span>,
                    "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                    "<span class="hljs-attribute">type</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Fulano"</span></span>,
                    "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}
                </span>}</span>,
                "<span class="hljs-attribute">products</span>": <span class="hljs-value">[]</span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-string">"12.35"</span>
            </span>}
        ]</span>,
        "<span class="hljs-attribute">createdAt</span>": <span class="hljs-value"><span class="hljs-string">"2015-01-23"</span>
    </span>}
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>L1</strong></td>
<td style="text-align:left"><em>Please provide the 'passenger’s name.</em></td>
<td style="text-align:left">One of the passenger’s <code>name</code> is missing from the request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L2</strong></td>
<td style="text-align:left"><em>Please provide a value for the passenger’s first name.</em></td>
<td style="text-align:left">One of the passenger’s <code>name</code> is empty.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L3</strong></td>
<td style="text-align:left"><em>Please provide the 'passenger’s document.</em></td>
<td style="text-align:left">One of the passenger’s <code>document</code> is missing from the request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L4</strong></td>
<td style="text-align:left"><em>Please provide a value for the passenger’s document.</em></td>
<td style="text-align:left">One of the passenger’s <code>document</code> is empty.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L5</strong></td>
<td style="text-align:left"><em>Please provide the ‘scheduleId’.</em></td>
<td style="text-align:left">The <code>scheduleId</code> for one of the order items is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L6</strong></td>
<td style="text-align:left"><em>The given ‘scheduleId’ is invalid.</em></td>
<td style="text-align:left">The <code>scheduleId</code> for one of the order items is invalid or incorrect.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L7</strong></td>
<td style="text-align:left"><em>Invalid Parameters</em></td>
<td style="text-align:left">(<strong>Deprecated</strong>: check for <strong>L25</strong>) Missing parameters in your payment data.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L8</strong></td>
<td style="text-align:left"><em>The expiration date is invalid or incorrect.</em></td>
<td style="text-align:left">The expiration date provided in the card is incorrect or invalid.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L9</strong></td>
<td style="text-align:left"><em>Please provide the ‘installment’ for the payment data.</em></td>
<td style="text-align:left">The parameter <code>installment</code> is missing from the Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L10</strong></td>
<td style="text-align:left"><em>An unexpected issue happened in your Request. Please contact us for more details.</em></td>
<td style="text-align:left">Troubles while requesting data from the booking engine. Please contact us at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for support and details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L12</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L13</strong></td>
<td style="text-align:left"><em>Please check you card number.</em></td>
<td style="text-align:left">The card, or any other information provided for the payment form is incorrect.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L14</strong></td>
<td style="text-align:left"><em>There was a problem with your Order. Please contact us for more details.</em></td>
<td style="text-align:left">Your Order could not be completed. Please contact us at <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for support and details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L15</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">An internal error ocurred at the conclusion of your Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L16</strong></td>
<td style="text-align:left"><em>Application Error</em></td>
<td style="text-align:left">An error occurred before send the success email of your Request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L17</strong></td>
<td style="text-align:left"><em>Application Error</em></td>
<td style="text-align:left">There was a problem with the communication with the booking engine. Please retry your request.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L23</strong></td>
<td style="text-align:left"><em>The Order Cart is empty.</em></td>
<td style="text-align:left">No Seats were found in your cart to finish your purchase. Please contact us for more details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L24</strong></td>
<td style="text-align:left"><em>The installment value is less than the minimum value supported.</em></td>
<td style="text-align:left">The value based for each installment of your request is lower than the minimum supported value. Please contact us for more details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L25</strong></td>
<td style="text-align:left"><em>Inconsistencies were found. Please check your Payment Data.</em></td>
<td style="text-align:left">Some required values for your payment data are missing. Please review your request before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L26</strong></td>
<td style="text-align:left"><em>The given credit card brand is not supported by the payment method.</em></td>
<td style="text-align:left">The card brand is not supported by our payment methods. Please contact us or check the <a href="#payments">Payments</a> resource to verify if the given card brand is declared in the supported list.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L27</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">It’s required to authorize this purchase with the card issuer.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L28</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment was not authorized. We suggest you to check the card information before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L29</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment was not authorized. We suggest you to check the card information before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L30</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">A problem ocurred while authorizing the purchase. Please check the card data or contact us for more details.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L31</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment was not authorized. We suggest you to check the card information before proceed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L32</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment could not be processed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L33</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Please check if the card is ok or if it still requires it’s activation before proceed with your payment.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L34</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">It was not possible to process the purchase.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L35</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">You have already made a purchase with the same value. If you need to pay the same amount again, please, use another card or payment method.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L36</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Your payment was rejected. We recommend you to pay with other payment methods available.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L37</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">There is no credit available for this credit card.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L38</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Payments in this installment amount are not processed. Please, choose other installment value.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L39</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">You have reached limit of tries. Please, use another card or payment method.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L40</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The payment could not be processed.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L41</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">Payment not authorized. Please, check your credit card information.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L42</strong></td>
<td style="text-align:left"><em>Checkout Error</em></td>
<td style="text-align:left">The maximum execution time was exceeded. Please check the <a href="#order-details">Order</a> resource to check the actual status of your Order.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L43</strong></td>
<td style="text-align:left"><em>Invalid discount.</em></td>
<td style="text-align:left">This voucher’s discount is invalid.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L44</strong></td>
<td style="text-align:left"><em>Order has not reached minimum value.</em></td>
<td style="text-align:left">The actual total value of the Order is lower than the minimum value required for this voucher’s discount.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L45</strong></td>
<td style="text-align:left"><em>Invalid discount for this email.</em></td>
<td style="text-align:left">The email in the <code>request.buyer.email</code> parameter was already applied to this voucher. Please provide another email address.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L46</strong></td>
<td style="text-align:left"><em>Invalid discount for this trip.</em></td>
<td style="text-align:left">The selected seats must be a trip from a given origin or/and destination, the same configured for this voucher.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L47</strong></td>
<td style="text-align:left"><em>Discount is valid just for round trips.</em></td>
<td style="text-align:left">This voucher can only be applied for round trips.</td>
</tr>
<tr>
<td style="text-align:center"><strong>L48</strong></td>
<td style="text-align:left"><em>Invalid discount for this busline.</em></td>
<td style="text-align:left">The selected seats must be from a trip which belongs to the bus company configured for this voucher.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method post">POST</span>&nbsp;<span class="uri"><span class="hostname"></span>/checkout</span></div></div></div><div id="checkout-unavailable-seats" class="resource"><h3 class="resource-heading">Unavailable Seats <a href="#checkout-unavailable-seats" class="permalink">&nbsp;&para;</a></h3><p>As stated at the beginning of this group info, <em>there are chances that one or more of the desired seats are unavailable.</em> So, requests to <code>/checkout</code> may find Seats previously reserved before your request is received and, if this situation may happen, this endpoint have a proper error message that provide all details that your application need to troubleshoot this issue.</p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>L22</strong></td>
<td style="text-align:left"><em>Unavailable Seat</em></td>
<td style="text-align:left">One or more Seats received in the request were reserved before your request, or the booking engine could not create reservations for the given Seats.</td>
</tr>
</tbody>
</table>
<p>The <code>message</code> param of this response contains a JSON list with the Seats that were available in your request, in the format as below:</p>
<p><strong>EXAMPLE</strong></p>
<p>Selected 1 Seat (number <em>29</em>) for <em>Fulano da Silva</em> and 1 Seat for <em>Beltrano da Silva</em> (number <em>21</em>), both for the same departure;</p>
<p><strong>REQUEST (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">model</span>": <span class="hljs-value"><span class="hljs-string">"Retail"</span></span>,
        "<span class="hljs-attribute">store</span>": <span class="hljs-value"><span class="hljs-string">"NewWorld"</span></span>,
        "<span class="hljs-attribute">platform</span>": <span class="hljs-value"><span class="hljs-string">"Web"</span>
    </span>}</span>,
    "<span class="hljs-attribute">request</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">ip</span>": <span class="hljs-value"><span class="hljs-string">"192.168.14.1"</span></span>,
        "<span class="hljs-attribute">buyer</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">locale</span>": <span class="hljs-value"><span class="hljs-string">"pt_BR"</span></span>,
            "<span class="hljs-attribute">firstName</span>": <span class="hljs-value"><span class="hljs-string">"Clickbus"</span></span>,
            "<span class="hljs-attribute">lastName</span>": <span class="hljs-value"><span class="hljs-string">"Test"</span></span>,
            "<span class="hljs-attribute">email</span>": <span class="hljs-value"><span class="hljs-string">"test-orders@clickbus.com"</span></span>,
            "<span class="hljs-attribute">phone</span>": <span class="hljs-value"><span class="hljs-string">"12098765432"</span></span>,
            "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"176.768.826-13"</span></span>,
            "<span class="hljs-attribute">gender</span>": <span class="hljs-value"><span class="hljs-string">"M"</span></span>,
            "<span class="hljs-attribute">birthday</span>": <span class="hljs-value"><span class="hljs-string">"1986-04-18"</span></span>,
            "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{}</span>,
            "<span class="hljs-attribute">payment</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">method</span>": <span class="hljs-value"><span class="hljs-string">"creditcard"</span></span>,
                "<span class="hljs-attribute">currency</span>": <span class="hljs-value"><span class="hljs-string">"BRL"</span></span>,
                "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">2470</span></span>,
                "<span class="hljs-attribute">installment</span>": <span class="hljs-value"><span class="hljs-string">"1"</span></span>,
                "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">card</span>": <span class="hljs-value"><span class="hljs-string">"4111111111111111"</span></span>,
                    "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"737"</span></span>,
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"FULANO SILVA"</span></span>,
                    "<span class="hljs-attribute">expiration</span>": <span class="hljs-value"><span class="hljs-string">"2017-07"</span></span>,
                    "<span class="hljs-attribute">zipcode</span>": <span class="hljs-value"><span class="hljs-string">"04104080"</span>
                </span>}
            </span>}
        </span>}</span>,
        "<span class="hljs-attribute">items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"29"</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Fulano da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"12.345.678-9"</span></span>,
                    "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span>
                </span>}</span>,
                "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"MzA5Ny0tMzUzNS0tMjAxNS0wNi0yNSAwNzo1NS0tMTUtLTE4MTUtLTEtLTEtLTEtLUNPTUVSQ0lBTC0tMi44NQ=="</span>
            </span>},
            {
                "<span class="hljs-attribute">seat</span>": <span class="hljs-value"><span class="hljs-string">"21"</span></span>,
                "<span class="hljs-attribute">passenger</span>": <span class="hljs-value">{
                    "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Beltrano da Silva"</span></span>,
                    "<span class="hljs-attribute">document</span>": <span class="hljs-value"><span class="hljs-string">"98.765.432-1"</span></span>,
                    "<span class="hljs-attribute">documentType</span>": <span class="hljs-value"><span class="hljs-string">"rg"</span>
                </span>}</span>,
                "<span class="hljs-attribute">scheduleId</span>": <span class="hljs-value"><span class="hljs-string">"MzA5Ny0tMzUzNS0tMjAxNS0wNi0yNSAwNzo1NS0tMTUtLTE4MTUtLTEtLTEtLTEtLUNPTUVSQ0lBTC0tMi44NQ=="</span>
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>For this request, only one seat (for <em>Fulano da Silva</em>) was available. So the response will describe that only that Seat (<em>29</em>) was available, along with it’s <code>scheduleId</code>, to identify for which trip the Seats were unavailable, as below:</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">error</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"L22"</span></span>,
            "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"Unavailable Seat"</span></span>,
            "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"{\"Successful seats:\":[{\"seatNumber\":\"29\",\"scheduleId\":\"MzA5Ny0tMzUzNS0tMjAxNS0wNi0yNSAwNzo1NS0tMTUtLTE4MTUtLTEtLTEtLTEtLUNPTUVSQ0lBTC0tMi44NQ==\"}]}"</span>
        </span>}
    ]
</span>}</code></pre>
</div></section><section id="order-details" class="resource-group"><h2 class="group-heading">Order Details <a href="#order-details" class="permalink">&para;</a></h2><div id="order-details-authentication-required" class="resource"><h3 class="resource-heading">Authentication Required <a href="#order-details-authentication-required" class="permalink">&nbsp;&para;</a></h3><p>In order to access the resources for this endpoint, you have to provide a Public API Key for each Request. This key shall be declared in the headers section of your Request, as follow:</p>
<p>X-API-KEY: dbb648c2d6f4df1b7422b56265947f261cd80e27</p>
<p>This value is generated for each partner. Once you receive your API Key, please do not share or publish this value. Please contact <a href="mailto:contato@clickbus.com.br">contato@clickbus.com.br</a> for more information about your credentials.</p>
<p><strong>OBS:</strong> For implementation and test purposes, use the following value: <code>dbb648c2d6f4df1b7422b56265947f261cd80e27</code>.</p>
<hr>
</div><div id="order-details-get-order-list" class="resource"><h3 class="resource-heading">Get Order List <a href="#order-details-get-order-list" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/order</code> return a list of Orders with a limit of 50 results per page, where each object provide the details for a single Order.</p>
<div id="order-details-get-order-list-get" class="action get"><h4 class="action-heading"><div class="name">Get Order List</div><a href="#order-details-get-order-list-get" class="method get">GET</a><code class="uri">/order</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>page</strong> (optional)</td>
<td style="text-align:left"><em>integer</em></td>
<td style="text-align:left">Use this parameter to navigate through the result pages.</td>
<td style="text-align:left"><code>2</code></td>
</tr>
</tbody>
</table>
<p>A successful request will return a <em>200</em> Response, with the structure as described below:</p>
<ul>
<li><code>items</code>, which is a collection of Orders. Each Order contains:
<ul>
<li><code>uuid</code> is the Order ID;</li>
<li><code>localizer</code> is the Order <code>localizer</code> property, required to <strong>Cancel an Order</strong>;</li>
<li><code>buyer_firstname</code>, <code>buyer_lastname</code>, <code>buyer_email</code> and <code>buyer_phone</code> are related to the Order’s Buyer;</li>
<li><code>payment_method</code> is the Payment Method applied on this Order;</li>
<li><code>total</code> stands for the Order total value;</li>
<li><code>status</code> is the Order actual status, which can be one of the following:
<ul>
<li><code>order_finalized_successfully</code> it’s when the Order was successfuly accepted;</li>
<li><code>order_canceled</code> it’s when the Order was successfuly canceled;</li>
<li><code>order_pending</code> it’s when the Order is waiting for a response from the asynchronous payment method.</li>
</ul>
</li>
<li><code>created_at</code> stands for the date and time that the Order was created;</li>
<li><code>order_items</code>, which is a collection of Items related to this Order:
<ul>
<li><code>ticket_code</code> is the value provided from the Booking Engine, related to the ticket created for this Order;</li>
<li><code>seat_reference</code> is the Seat number;</li>
<li><code>seat_price</code> is the Seat monetary value;</li>
<li><code>passenger_firstname</code>, <code>passenger_lastname</code> and <code>passenger_document</code> are related to the Passenger;</li>
<li><code>departure_datetime</code> is the date and time selected for the departure;</li>
<li><code>timezone</code> stands for the timezone from the server;</li>
<li><code>origin_station_name</code> is the departure point, related in the <code>from</code> parameter used in the <strong>Trips</strong> Request for this Order;</li>
<li><code>destination_station_name</code> is the destination point, related in the <code>to</code> parameter used in the <strong>Trips</strong> Request for this Order;</li>
<li><code>subtotal</code> is the monetary value related to this Item.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>EXAMPLE</strong></p>
<p>Get a list of Orders, using a proper API Public Key:</p>
<p><strong>REQUEST</strong></p>
<pre><code>api/v1/<span class="hljs-keyword">order</span>
<span class="hljs-title"></span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "meta": "",
    "items": [
        {
            "uuid": 88,
            "localizer": "YDSKRH",
            "buyer_firstname": "Peter",
            "buyer_lastname": "Nile",
            "buyer_email": "peter@email.com.br",
            "buyer_gender": "",
            "buyer_birthday": "",
            "buyer_document": "",
            "buyer_document_type": "",
            "buyer_phone": "11983864125",
            "payment_method": "payment.creditcard",
            "total": 23.59,
            "status": "order_finalized_successfully",
            "created_at": "2015-03-02 17:48:58",
            "updated_at": "",
            "order_items": [
                {
                    "localizer": "",
                    "ticket_code": "305913",
                    "seat_reference": "09",
                    "seat_price": 21.25,
                    "passenger_firstname": "John",
                    "passenger_lastname": "Doe",
                    "passenger_document": "12345678900",
                    "passenger_document_type": "",
                    "passenger_email": "",
                    "passenger_gender": "",
                    "passenger_birthday": "",
                    "departure_datetime": "2015-03-25 06:30:00",
                    "timezone": "America/Sao_Paulo",
                    "origin_station_name": "Sao Paulo, SP - Tiete",
                    "destination_station_name": "Santos, SP",
                    "origin_city_name": "Sao Paulo, SP - Tiete",
                    "destination_city_name": "Santos, SP",
                    "subtotal": 21.25,
                    "created_at": "2015-03-02 17:48:58",
                    "updated_at": ""
                }
            ]
        },
        {...}
    ]
}</code></pre>
<p><strong>EXAMPLE</strong></p>
<p>Incorrect request (permission denied):</p>
<p><strong>REQUEST</strong></p>
<pre><code>api/v1/<span class="hljs-keyword">order</span>
<span class="hljs-title"></span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>Status code: <em>401</em>.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">error</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-string">"D1"</span></span>,
            "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"Unauthorized"</span></span>,
            "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"Unauthorized access."</span>
        </span>}
    ]
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>D1</strong></td>
<td style="text-align:left"><em>Unauthorized access.</em></td>
<td style="text-align:left">You are not authorized to view the contents of this resource. Please use a valid API Public Key.</td>
</tr>
<tr>
<td style="text-align:center"><strong>D2</strong></td>
<td style="text-align:left"><em>The Application encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred while proccessing your Request before it’s sent to the booking engine.</td>
</tr>
<tr>
<td style="text-align:center"><strong>D3</strong></td>
<td style="text-align:left"><em>The Server encountered a temporary error and could not complete your request.</em></td>
<td style="text-align:left">An error occurred after sending your Request to the booking engine.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/order</span></div></div></div><div id="order-details-get-order" class="resource"><h3 class="resource-heading">Get Order <a href="#order-details-get-order" class="permalink">&nbsp;&para;</a></h3><p>The resource <code>/order/{id}</code> provides all details of a single Order, based on the given ID.</p>
<div id="order-details-get-order-get" class="action get"><h4 class="action-heading"><div class="name">Get Order</div><a href="#order-details-get-order-get" class="method get">GET</a><code class="uri">/order/</code></h4><p><strong>PARAMETERS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">PARAMS</th>
<th style="text-align:left">VALUE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">EXAMPLE</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>id</strong> (required)</td>
<td style="text-align:left"><em>int</em></td>
<td style="text-align:left">A valid ID for any created Order.</td>
<td style="text-align:left"><code>10</code></td>
</tr>
</tbody>
</table>
<p>Using a valid <code>id</code>, and providing a valid and authentic API Key, the request will return a <em>200</em> Response, displaying an Order distributed in the following structure:</p>
<ul>
<li><code>content</code>, which contains:
<ul>
<li><code>uuid</code> is the Order ID;</li>
<li><code>localizer</code> is the Order <code>localizer</code> property, required to <strong>Cancel an Order</strong>;</li>
<li><code>buyer_firstname</code>, <code>buyer_lastname</code>, <code>buyer_email</code> and <code>buyer_phone</code> are related to the Order’s Buyer;</li>
<li><code>payment_method</code> is the Payment Method applied on this Order;</li>
<li><code>total</code> stands for the Order total value;</li>
<li><code>status</code> is the Order actual status, which can be one of the following:
<ul>
<li><code>order_finalized_successfully</code> it’s when the Order was successfuly accepted;</li>
<li><code>order_canceled</code> it’s when the Order was successfuly canceled;</li>
<li><code>order_pending</code> it’s when the Order is waiting for a response from the asynchronous payment method.</li>
</ul>
</li>
<li><code>created_at</code> stands for the date and time that the Order was created;</li>
<li><code>order_items</code>, which is a collection of Items related to this Order:
<ul>
<li><code>ticket_code</code> is the value provided from the Booking Engine, related to the ticket created for this Order;</li>
<li><code>seat_reference</code> is the Seat number;</li>
<li><code>seat_price</code> is the Seat monetary value;</li>
<li><code>passenger_firstname</code>, <code>passenger_lastname</code> and <code>passenger_document</code> are related to the Passenger;</li>
<li><code>departure_datetime</code> is the date and time selected for the departure;</li>
<li><code>timezone</code> stands for the timezone from the server;</li>
<li><code>origin_station_name</code> is the departure point, related in the from parameter used in the Trips Request for this Order;</li>
<li><code>destination_station_name</code> is the destination point, related in the to parameter used in the Trips Request for this Order;</li>
<li><code>origin_city_name</code> is the city’s name related to the origin point;</li>
<li><code>destination_city_name</code> is the city’s name related to the destination point;</li>
<li><code>subtotal</code> is the monetary value related to this Item.</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>EXAMPLE</strong></p>
<p>Get the results from an Order with an ID <code>88</code>, related with an existing Order.</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/order/<span class="hljs-number">88</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">meta</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">content</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">uuid</span>": <span class="hljs-value"><span class="hljs-number">88</span></span>,
        "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">"YDSKRH"</span></span>,
        "<span class="hljs-attribute">buyer_firstname</span>": <span class="hljs-value"><span class="hljs-string">"Peter"</span></span>,
        "<span class="hljs-attribute">buyer_lastname</span>": <span class="hljs-value"><span class="hljs-string">"Silva"</span></span>,
        "<span class="hljs-attribute">buyer_email</span>": <span class="hljs-value"><span class="hljs-string">"peter@email.com.br"</span></span>,
        "<span class="hljs-attribute">buyer_gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">buyer_birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">buyer_document</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">buyer_document_type</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">buyer_phone</span>": <span class="hljs-value"><span class="hljs-string">"11983864125"</span></span>,
        "<span class="hljs-attribute">payment_method</span>": <span class="hljs-value"><span class="hljs-string">"payment.creditcard"</span></span>,
        "<span class="hljs-attribute">total</span>": <span class="hljs-value"><span class="hljs-number">23.59</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"order_finalized_successfully"</span></span>,
        "<span class="hljs-attribute">created_at</span>": <span class="hljs-value"><span class="hljs-string">"2015-03-02 17:48:58"</span></span>,
        "<span class="hljs-attribute">updated_at</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
        "<span class="hljs-attribute">order_items</span>": <span class="hljs-value">[
            {
                "<span class="hljs-attribute">localizer</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">ticket_code</span>": <span class="hljs-value"><span class="hljs-string">"305913"</span></span>,
                "<span class="hljs-attribute">seat_reference</span>": <span class="hljs-value"><span class="hljs-string">"09"</span></span>,
                "<span class="hljs-attribute">seat_price</span>": <span class="hljs-value"><span class="hljs-number">21.25</span></span>,
                "<span class="hljs-attribute">passenger_firstname</span>": <span class="hljs-value"><span class="hljs-string">"Jhon"</span></span>,
                "<span class="hljs-attribute">passenger_lastname</span>": <span class="hljs-value"><span class="hljs-string">"Doe"</span></span>,
                "<span class="hljs-attribute">passenger_document</span>": <span class="hljs-value"><span class="hljs-string">"12345678900"</span></span>,
                "<span class="hljs-attribute">passenger_document_type</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">passenger_email</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">passenger_gender</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">passenger_birthday</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
                "<span class="hljs-attribute">departure_datetime</span>": <span class="hljs-value"><span class="hljs-string">"2015-03-25 06:30:00"</span></span>,
                "<span class="hljs-attribute">timezone</span>": <span class="hljs-value"><span class="hljs-string">"America/Sao_Paulo"</span></span>,
                "<span class="hljs-attribute">origin_station_name</span>": <span class="hljs-value"><span class="hljs-string">"Sao Paulo - Tiete, SP"</span></span>,
                "<span class="hljs-attribute">destination_station_name</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
                "<span class="hljs-attribute">origin_city_name</span>": <span class="hljs-value"><span class="hljs-string">"Sao Paulo - Tiete, SP"</span></span>,
                "<span class="hljs-attribute">destination_city_name</span>": <span class="hljs-value"><span class="hljs-string">"Santos, SP"</span></span>,
                "<span class="hljs-attribute">subtotal</span>": <span class="hljs-value"><span class="hljs-number">21.25</span></span>,
                "<span class="hljs-attribute">created_at</span>": <span class="hljs-value"><span class="hljs-string">"2015-03-02 17:48:58"</span></span>,
                "<span class="hljs-attribute">updated_at</span>": <span class="hljs-value"><span class="hljs-string">""</span>
            </span>}
        ]
    </span>}
</span>}</code></pre>
<p><strong>EXAMPLE</strong></p>
<p>Incorrect request (permission denied).</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/order/<span class="hljs-number">100</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>Status code: <em>401</em>.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">error</span>":<span class="hljs-value">[
        {
            "<span class="hljs-attribute">code</span>":<span class="hljs-value"><span class="hljs-string">"D1"</span></span>,
            "<span class="hljs-attribute">type</span>":<span class="hljs-value"><span class="hljs-string">"Unauthorized"</span></span>,
            "<span class="hljs-attribute">message</span>":<span class="hljs-value"><span class="hljs-string">"Unauthorized access."</span>
        </span>}
    ]
</span>}</code></pre>
<p><strong>EXAMPLE</strong></p>
<p>Incorrect request, using <code>89</code> as the ID value, which relates to no Order (Order not found).</p>
<p><strong>REQUEST</strong></p>
<pre><code><span class="hljs-label">api</span>/<span class="hljs-literal">v1</span>/order/<span class="hljs-number">89</span></code></pre>
<p><strong>RESPONSE (application/json)</strong></p>
<p>Status code: <em>404</em>.</p>
<pre><code class="language-json">{
    "<span class="hljs-attribute">error</span>":<span class="hljs-value">[
        {
            "<span class="hljs-attribute">code</span>":<span class="hljs-value"><span class="hljs-string">"D5"</span></span>,
            "<span class="hljs-attribute">type</span>":<span class="hljs-value"><span class="hljs-string">"Not Found"</span></span>,
            "<span class="hljs-attribute">message</span>":<span class="hljs-value"><span class="hljs-string">"Item not found."</span>
        </span>}
    ]
</span>}</code></pre>
<p><strong>ERRORS</strong></p>
<table>
<thead>
<tr>
<th style="text-align:center">CODE</th>
<th style="text-align:left">DESCRIPTION</th>
<th style="text-align:left">DETAILS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>D1</strong></td>
<td style="text-align:left"><em>Unauthorized access.</em></td>
<td style="text-align:left">You are not authorized to view the contents of this resource. Please use a valid API Public Key.</td>
</tr>
<tr>
<td style="text-align:center"><strong>D4</strong></td>
<td style="text-align:left"><em>The given Order ID is invalid.</em></td>
<td style="text-align:left">The value provided for <code>id</code> is invalid or incorrect.</td>
</tr>
<tr>
<td style="text-align:center"><strong>D5</strong></td>
<td style="text-align:left"><em>Item not found.</em></td>
<td style="text-align:left">The requested Order could not be found.</td>
</tr>
</tbody>
</table>
<h4>Example URI</h4><div class="definition"><span class="method get">GET</span>&nbsp;<span class="uri"><span class="hostname"></span>/order/</span></div></div></div><div id="order-details-order-status-list" class="resource"><h3 class="resource-heading">Order Status List <a href="#order-details-order-status-list" class="permalink">&nbsp;&para;</a></h3><p>Below is a reference to consider when checking this service, to understand the status described in the <code>content.status</code> parameter. Ths list below displays all final statuses available, which conclude the Order cycle. Any other status found in this service must be considered as a pending step, which will evolve to other scenarios before the Order is concluded.</p>
<table>
<thead>
<tr>
<th style="text-align:left">STATUS</th>
<th style="text-align:left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>order_canceled</code></td>
<td style="text-align:left">Order canceled.</td>
</tr>
<tr>
<td style="text-align:left"><code>order_booking_engine_confirmation_refund_successful</code></td>
<td style="text-align:left">Ticket canceled with the booking engine / bus company after payment failure.</td>
</tr>
<tr>
<td style="text-align:left"><code>clarify_booking_engine_confirmation_refund_failure</code></td>
<td style="text-align:left">Ticket cancelation failed after payment failure.</td>
</tr>
<tr>
<td style="text-align:left"><code>order_finalized_successfully</code></td>
<td style="text-align:left">Order finalized OK.</td>
</tr>
<tr>
<td style="text-align:left"><code>payment_confirmed</code></td>
<td style="text-align:left">Payment was successfuly confirmed.</td>
</tr>
</tbody>
</table>
</div></section></div></div></div><p style="text-align: center;" class="text-muted">Generated by&nbsp;<a href="https://github.com/danielgtaylor/aglio" class="aglio">aglio</a>&nbsp;on 20 Sep 2018</p><script>/* eslint-env browser */
/* eslint quotes: [2, "single"] */
'use strict';

/*
  Determine if a string ends with another string.
*/
function endsWith(str, suffix) {
    return str.indexOf(suffix, str.length - suffix.length) !== -1;
}

/*
  Get a list of direct child elements by class name.
*/
function childrenByClass(element, name) {
  var filtered = [];

  for (var i = 0; i < element.children.length; i++) {
    var child = element.children[i];
    var classNames = child.className.split(' ');
    if (classNames.indexOf(name) !== -1) {
      filtered.push(child);
    }
  }

  return filtered;
}

/*
  Get an array [width, height] of the window.
*/
function getWindowDimensions() {
  var w = window,
      d = document,
      e = d.documentElement,
      g = d.body,
      x = w.innerWidth || e.clientWidth || g.clientWidth,
      y = w.innerHeight || e.clientHeight || g.clientHeight;

  return [x, y];
}

/*
  Collapse or show a request/response example.
*/
function toggleCollapseButton(event) {
    var button = event.target.parentNode;
    var content = button.parentNode.nextSibling;
    var inner = content.children[0];

    if (button.className.indexOf('collapse-button') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        // Currently showing, so let's hide it
        button.className = 'collapse-button';
        content.style.maxHeight = '0px';
    } else {
        // Currently hidden, so let's show it
        button.className = 'collapse-button show';
        content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

function toggleTabButton(event) {
    var i, index;
    var button = event.target;

    // Get index of the current button.
    var buttons = childrenByClass(button.parentNode, 'tab-button');
    for (i = 0; i < buttons.length; i++) {
        if (buttons[i] === button) {
            index = i;
            button.className = 'tab-button active';
        } else {
            buttons[i].className = 'tab-button';
        }
    }

    // Hide other tabs and show this one.
    var tabs = childrenByClass(button.parentNode.parentNode, 'tab');
    for (i = 0; i < tabs.length; i++) {
        if (i === index) {
            tabs[i].style.display = 'block';
        } else {
            tabs[i].style.display = 'none';
        }
    }
}

/*
  Collapse or show a navigation menu. It will not be hidden unless it
  is currently selected or `force` has been passed.
*/
function toggleCollapseNav(event, force) {
    var heading = event.target.parentNode;
    var content = heading.nextSibling;
    var inner = content.children[0];

    if (heading.className.indexOf('heading') === -1) {
      // Clicked without hitting the right element?
      return;
    }

    if (content.style.maxHeight && content.style.maxHeight !== '0px') {
      // Currently showing, so let's hide it, but only if this nav item
      // is already selected. This prevents newly selected items from
      // collapsing in an annoying fashion.
      if (force || window.location.hash && endsWith(event.target.href, window.location.hash)) {
        content.style.maxHeight = '0px';
      }
    } else {
      // Currently hidden, so let's show it
      content.style.maxHeight = inner.offsetHeight + 12 + 'px';
    }
}

/*
  Refresh the page after a live update from the server. This only
  works in live preview mode (using the `--server` parameter).
*/
function refresh(body) {
    document.querySelector('body').className = 'preload';
    document.body.innerHTML = body;

    // Re-initialize the page
    init();
    autoCollapse();

    document.querySelector('body').className = '';
}

/*
  Determine which navigation items should be auto-collapsed to show as many
  as possible on the screen, based on the current window height. This also
  collapses them.
*/
function autoCollapse() {
  var windowHeight = getWindowDimensions()[1];
  var itemsHeight = 64; /* Account for some padding */
  var itemsArray = Array.prototype.slice.call(
    document.querySelectorAll('nav .resource-group .heading'));

  // Get the total height of the navigation items
  itemsArray.forEach(function (item) {
    itemsHeight += item.parentNode.offsetHeight;
  });

  // Should we auto-collapse any nav items? Try to find the smallest item
  // that can be collapsed to show all items on the screen. If not possible,
  // then collapse the largest item and do it again. First, sort the items
  // by height from smallest to largest.
  var sortedItems = itemsArray.sort(function (a, b) {
    return a.parentNode.offsetHeight - b.parentNode.offsetHeight;
  });

  while (sortedItems.length && itemsHeight > windowHeight) {
    for (var i = 0; i < sortedItems.length; i++) {
      // Will collapsing this item help?
      var itemHeight = sortedItems[i].nextSibling.offsetHeight;
      if ((itemsHeight - itemHeight <= windowHeight) || i === sortedItems.length - 1) {
        // It will, so let's collapse it, remove its content height from
        // our total and then remove it from our list of candidates
        // that can be collapsed.
        itemsHeight -= itemHeight;
        toggleCollapseNav({target: sortedItems[i].children[0]}, true);
        sortedItems.splice(i, 1);
        break;
      }
    }
  }
}

/*
  Initialize the interactive functionality of the page.
*/
function init() {
    var i, j;

    // Make collapse buttons clickable
    var buttons = document.querySelectorAll('.collapse-button');
    for (i = 0; i < buttons.length; i++) {
        buttons[i].onclick = toggleCollapseButton;

        // Show by default? Then toggle now.
        if (buttons[i].className.indexOf('show') !== -1) {
            toggleCollapseButton({target: buttons[i].children[0]});
        }
    }

    var responseCodes = document.querySelectorAll('.example-names');
    for (i = 0; i < responseCodes.length; i++) {
        var tabButtons = childrenByClass(responseCodes[i], 'tab-button');
        for (j = 0; j < tabButtons.length; j++) {
            tabButtons[j].onclick = toggleTabButton;

            // Show by default?
            if (j === 0) {
                toggleTabButton({target: tabButtons[j]});
            }
        }
    }

    // Make nav items clickable to collapse/expand their content.
    var navItems = document.querySelectorAll('nav .resource-group .heading');
    for (i = 0; i < navItems.length; i++) {
        navItems[i].onclick = toggleCollapseNav;

        // Show all by default
        toggleCollapseNav({target: navItems[i].children[0]});
    }
}

// Initial call to set up buttons
init();

window.onload = function () {
    autoCollapse();
    // Remove the `preload` class to enable animations
    document.querySelector('body').className = '';
};
</script></body></html>